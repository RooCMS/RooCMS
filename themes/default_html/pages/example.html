<!-- meta: {
    "title": "Пример возможностей HTML шаблонизатора",
    "description": "Демонстрация всех возможностей системы шаблонизатора",
    "scripts": ["pages/example.js"],
    "vars": {
        "user_name": "Александр",
        "user_role": "admin",
        "show_admin_panel": true,
        "articles": [
            {"title": "Новость 1", "content": "Содержание новости 1"},
            {"title": "Новость 2", "content": "Содержание новости 2"},
            {"title": "Новость 3", "content": "Содержание новости 3"}
        ],
        "navigation": ["Главная", "О нас", "Контакты"],
        "current_year": "2025"
    }
} -->

<section class="example-page">
    <h1>{{title}}</h1>
    <p>Привет, {{user_name}}! Добро пожаловать в демонстрацию возможностей шаблонизатора.</p>

    <!-- Условные блоки -->
    <!-- if: user_role -->
    <div class="user-info">
        <strong>Ваша роль:</strong> {{user_role}}
    </div>
    <!-- endif -->

    <!-- if: show_admin_panel -->
    <div class="admin-panel">
        <h3>Панель администратора</h3>
        <p>Это видно только администраторам!</p>
        <button>Управление пользователями</button>
        <button>Настройки системы</button>
    </div>
    <!-- endif -->

    <!-- Циклы -->
    <h2>Навигация</h2>
    <nav>
        <ul>
            <!-- foreach: navigation as item -->
            <li><a href="#">{{item}}</a></li>
            <!-- endforeach -->
        </ul>
    </nav>

    <h2>Новости</h2>
    <div class="news-list">
        <!-- foreach: articles as article -->
        <article class="news-item">
            <h3>{{article.title}}</h3>
            <p>{{article.content}}</p>
            <small>Опубликовано в {{current_year}} году</small>
        </article>
        <!-- endforeach -->
    </div>

    <!-- Работа с ассетами -->
    <link rel="stylesheet" href="{{asset: css/components/news.css}}">

    <!-- Инклуды -->
    <!-- include: partials/breadcrumbs.html -->
    <!-- include: partials/social-share.html -->

    <!-- Alpine.js интеграция -->
    <div class="interactive-demo" x-data="{ visible: false, message: 'Привет от Alpine.js!' }">
        <button @click="visible = !visible" class="btn-primary">
            Переключить видимость
        </button>

        <div x-show="visible" x-transition class="message-box">
            <p x-text="message"></p>
            <button @click="message = 'Сообщение изменено!'">Изменить сообщение</button>
        </div>
    </div>

    <!-- Неэкранированный HTML -->
    <div class="raw-html-demo">
        <h3>Неэкранированный HTML:</h3>
        {{{custom_html}}}
    </div>

    <!-- Глобальные переменные -->
    <footer class="page-footer">
        <p>Текущий URL: {{current_url}}</p>
        <p>Базовый URL: {{base_url}}</p>
        <p>© {{current_year}} {{site_name}}</p>
    </footer>
</section>

<style>
.example-page { max-width: 800px; margin: 0 auto; padding: 20px; }
.user-info { background: #e8f4fd; padding: 10px; border-radius: 4px; margin: 10px 0; }
.admin-panel { background: #fff3cd; border: 1px solid #ffeaa7; padding: 15px; border-radius: 4px; margin: 10px 0; }
.news-list { margin: 20px 0; }
.news-item { border: 1px solid #ddd; padding: 15px; margin: 10px 0; border-radius: 4px; }
.interactive-demo { margin: 20px 0; padding: 15px; background: #f8f9fa; border-radius: 4px; }
.message-box { margin-top: 10px; padding: 10px; background: white; border: 1px solid #ddd; border-radius: 4px; }
.btn-primary { background: #007bff; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer; }
.btn-primary:hover { background: #0056b3; }
.page-footer { margin-top: 40px; padding: 20px; background: #f8f9fa; border-radius: 4px; font-size: 0.9em; }
</style>
