<!--
meta: {
    "title": "Пользователи — RooCMS",
    "description": "Список пользователей системы",
    "scripts": ["/themes/default_html/assets/js/pages/users_index.js"]
}
-->

<section x-data="{ items: [], loading: true, error: '', page:1, limit:10 }">
	<h1>Пользователи</h1>
	<div x-show="loading">Загрузка...</div>
	<div x-show="error"><mark x-text="error"></mark></div>
	<table role="grid" x-show="!loading && !error && items.length">
		<thead>
			<tr><th>ID</th><th>Логин</th><th>Email</th><th>Роль</th></tr>
		</thead>
		<tbody>
			<template x-for="u in items" :key="u.id">
				<tr>
					<td x-text="u.id"></td>
					<td x-text="u.login"></td>
					<td x-text="u.email"></td>
					<td x-text="u.role"></td>
				</tr>
			</template>
		</tbody>
	</table>
	<nav>
		<button @click="page = Math.max(1, page-1); $dispatch('users:fetch')">Назад</button>
		<span x-text="page"></span>
		<button @click="page = page+1; $dispatch('users:fetch')">Вперёд</button>
	</nav>
</section>


