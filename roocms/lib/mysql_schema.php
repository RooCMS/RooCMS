<?php
/**
 *   RooCMS - Russian free content managment system
 *   Copyright © 2010-2017 alexandr Belov aka alex Roosso. All rights reserved.
 *   Contacts: <info@roocms.com>
 *
 *   This program is free software: you can redistribute it and/or modify
 *   it under the terms of the GNU General Public License as published by
 *   the Free Software Foundation, either version 3 of the License, or
 *   (at your option) any later version.
 *
 *   This program is distributed in the hope that it will be useful,
 *   but WITHOUT ANY WARRANTY; without even the implied warranty of
 *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *   GNU General Public License for more details.
 *
 *   You should have received a copy of the GNU General Public License
 *   along with this program.  If not, see http://www.gnu.org/licenses/
 *
 *
 *   RooCMS - Русская бесплатная система управления контентом
 *   Copyright © 2010-2017 александр Белов (alex Roosso). Все права защищены.
 *   Для связи: <info@roocms.com>
 *
 *   Это программа является свободным программным обеспечением. Вы можете
 *   распространять и/или модифицировать её согласно условиям Стандартной
 *   Общественной Лицензии GNU, опубликованной Фондом Свободного Программного
 *   Обеспечения, версии 3 или, по Вашему желанию, любой более поздней версии.
 *
 *   Эта программа распространяется в надежде, что она будет полезной, но БЕЗ
 *   ВСЯКИХ ГАРАНТИЙ, в том числе подразумеваемых гарантий ТОВАРНОГО СОСТОЯНИЯ ПРИ
 *   ПРОДАЖЕ и ГОДНОСТИ ДЛЯ ОПРЕДЕЛЁННОГО ПРИМЕНЕНИЯ. Смотрите Стандартную
 *   Общественную Лицензию GNU для получения дополнительной информации.
 *
 *   Вы должны были получить копию Стандартной Общественной Лицензии GNU вместе
 *   с программой. В случае её отсутствия, посмотрите http://www.gnu.org/licenses/
 */

/**
* @package      RooCMS
* @subpackage	Library
* @author       alex Roosso
* @copyright    2010-2017 (c) RooCMS
* @link         http://www.roocms.com
* @version      1.2.15
* @since        $date$
* @license      http://www.gnu.org/licenses/gpl-3.0.html
*/


//#########################################################
// Anti Hack
//---------------------------------------------------------
if(!defined('RooCMS') || (!defined('ACP') && !defined('INSTALL'))) die('Access Denied');
//#########################################################

$sql = array();


/**
* Разделы конфигурации
*/
$sql['DROP '.CONFIG_PARTS_TABLE] = "DROP TABLE IF EXISTS `".CONFIG_PARTS_TABLE."`";
$sql['CREATE '.CONFIG_PARTS_TABLE] = "CREATE TABLE IF NOT EXISTS `".CONFIG_PARTS_TABLE."` (
				  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
				  `type` enum('global', 'component') NOT NULL DEFAULT 'component',
				  `sort` int(10) unsigned NOT NULL DEFAULT '1',
				  `name` varchar(255) NOT NULL,
				  `title` varchar(255) NOT NULL,
				  `ico` varchar(255) NOT NULL,
				  UNIQUE KEY `id` (`id`),
				  UNIQUE KEY `name` (`name`)
				) ENGINE=MyISAM  DEFAULT CHARSET=utf8 PACK_KEYS=1 AUTO_INCREMENT=1";

$id = 1;
$sql['INSERT '.CONFIG_PARTS_TABLE." ID #".$id] = "INSERT INTO `".CONFIG_PARTS_TABLE."` VALUES (".$id.", 'global', 1, 'global', 'Общие настройки', 'cog')";		$id++;
$sql['INSERT '.CONFIG_PARTS_TABLE." ID #".$id] = "INSERT INTO `".CONFIG_PARTS_TABLE."` VALUES (".$id.", 'global', 2, 'gd', 'Обработка изображений', 'picture-o')";	$id++;
$sql['INSERT '.CONFIG_PARTS_TABLE." ID #".$id] = "INSERT INTO `".CONFIG_PARTS_TABLE."` VALUES (".$id.", 'global', 3, 'users', 'Настройка пользователей', 'users')";	$id++;
$sql['INSERT '.CONFIG_PARTS_TABLE." ID #".$id] = "INSERT INTO `".CONFIG_PARTS_TABLE."` VALUES (".$id.", 'global', 4, 'cp', 'Панель Администратора', 'shield')";	$id++;
$sql['INSERT '.CONFIG_PARTS_TABLE." ID #".$id] = "INSERT INTO `".CONFIG_PARTS_TABLE."` VALUES (".$id.", 'global', 5, 'tpl', 'Настройки шаблонизации', 'desktop')";	$id++;
$sql['INSERT '.CONFIG_PARTS_TABLE." ID #".$id] = "INSERT INTO `".CONFIG_PARTS_TABLE."` VALUES (".$id.", 'global', 6, 'rss', 'RSS', 'rss')";				$id++;
$sql['INSERT '.CONFIG_PARTS_TABLE." ID #".$id] = "INSERT INTO `".CONFIG_PARTS_TABLE."` VALUES (".$id.", 'component', 6, 'feed', 'Ленты', 'th-list')";			$id++;


/**
* Параметры конфигурации
*/
$sql['DROP '.CONFIG_TABLE] = "DROP TABLE IF EXISTS `".CONFIG_TABLE."`";
$sql['CREATE'.CONFIG_TABLE] = "CREATE TABLE IF NOT EXISTS `".CONFIG_TABLE."` (
				  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
				  `part` varchar(255) NOT NULL DEFAULT 'global',
				  `sort` int(10) unsigned NOT NULL DEFAULT '1',
				  `title` varchar(255) NOT NULL,
				  `description` text NOT NULL,
				  `option_name` varchar(255) NOT NULL,
				  `option_type` enum('boolean','bool','integer','int','string','color','text','textarea','date','email','select','image', 'img') NOT NULL DEFAULT 'boolean',
				  `variants` text NOT NULL,
				  `value` longtext NOT NULL,
				  `default_value` text NOT NULL,
				  `field_maxleight` smallint(4) unsigned NOT NULL DEFAULT '0',
				  UNIQUE KEY `id` (`id`),
				  UNIQUE KEY `option` (`option_name`),
				  KEY `part` (`part`)
				) ENGINE=MyISAM  DEFAULT CHARSET=utf8 PACK_KEYS=1 AUTO_INCREMENT=1";
$id = 1;
$sql['INSERT '.CONFIG_TABLE." ID #".$id] = "INSERT INTO `".CONFIG_TABLE."` VALUES (".$id.", 'global', 1, 'Название сайта', 'Глобальный заголовок сайта', 'site_title', 'string', '', '".$site['title']."', '".$site['title']."', 0)"; $id++;
$sql['INSERT '.CONFIG_TABLE." ID #".$id] = "INSERT INTO `".CONFIG_TABLE."` VALUES (".$id.", 'global', 1, 'Глобальный заголовок', 'Применять название сайта глобально ко всем заголовкам?', 'global_site_title', 'boolean', '', 'true', 'true', 0)"; $id++;
$sql['INSERT '.CONFIG_TABLE." ID #".$id] = "INSERT INTO `".CONFIG_TABLE."` VALUES (".$id.", 'global', 3, 'Мета описание', 'Глобальное мета описание сайта', 'meta_description', 'string', '', '', '', 250)"; $id++;
$sql['INSERT '.CONFIG_TABLE." ID #".$id] = "INSERT INTO `".CONFIG_TABLE."` VALUES (".$id.", 'global', 4, 'Мета ключевые слова', 'Глобальные ключевые слова для сайта', 'meta_keywords', 'string', '', '', '', 250)"; $id++;
$sql['INSERT '.CONFIG_TABLE." ID #".$id] = "INSERT INTO `".CONFIG_TABLE."` VALUES (".$id.", 'global', 5, 'Заголовок 304', 'Опция включает/выключает ответ заголовка с кодом 304 на запрос IF_MODIFED_SINCE от поисковых роботов там где это разрешено.\r\nВо включенном состоянии опция позволит поисковым роботам быстрее индексировать ваш сайт и ускоряет работу шаблонизатора.', 'if_modifed_since', 'boolean', '', 'false', 'false', 0)"; $id++;
$sql['INSERT '.CONFIG_TABLE." ID #".$id] = "INSERT INTO `".CONFIG_TABLE."` VALUES (".$id.", 'gd', 1, 'Максимальная ширина изображений', 'Укажите максимальную ширину загружаемых изображений в пикселях. \r\nВ случае если изображение окажется больше указанной ширины, оно будет пропорционально уменьшено', 'gd_image_maxwidth', 'int', '', '1200', '1200', 0)"; $id++;
$sql['INSERT '.CONFIG_TABLE." ID #".$id] = "INSERT INTO `".CONFIG_TABLE."` VALUES (".$id.", 'gd', 2, 'Максимальная высота изображений', 'Укажите максимальную ширину загружаемых изображений в пикселях. \r\nВ случае если изображение окажется больше указанной ширины, оно будет пропорционально уменьшено', 'gd_image_maxheight', 'int', '', '1200', '1200', 0)"; $id++;
$sql['INSERT '.CONFIG_TABLE." ID #".$id] = "INSERT INTO `".CONFIG_TABLE."` VALUES (".$id.", 'gd', 3, 'Ширина миниатюры', 'Укажите размер миниатюры изображения по горизонтали (в пикселях)', 'gd_thumb_image_width', 'int', '', '267', '267', 0)"; $id++;
$sql['INSERT '.CONFIG_TABLE." ID #".$id] = "INSERT INTO `".CONFIG_TABLE."` VALUES (".$id.", 'gd', 4, 'Высота миниатюры', 'Укажите размер миниатюры изображения по вертикали(в пикселях)', 'gd_thumb_image_height', 'int', '', '150', '150', 0)"; $id++;
$sql['INSERT '.CONFIG_TABLE." ID #".$id] = "INSERT INTO `".CONFIG_TABLE."` VALUES (".$id.", 'gd', 5, 'Тип миниатюры', 'Выберите алгоритм генерации миниатюр. \r\nЗаполнение - полностью заполнит миниатюру.\r\nПо размеру - пропорции изображения будут вписаны в пропорции миниатюры.\r\n', 'gd_thumb_type_gen', 'select', 'Заполнение|fill\r\nПо размеру|size', 'fill', 'fill', 0)"; $id++;
$sql['INSERT '.CONFIG_TABLE." ID #".$id] = "INSERT INTO `".CONFIG_TABLE."` VALUES (".$id.", 'gd', 6, 'Цвет фона миниатюры', 'Данный параметр устанавливает цвет фона для миниатюр, если вы выбрали тип генерации &quot;по размеру&quot;', 'gd_thumb_bgcolor', 'color', '', '#ffffff', '#ffffff', 0)"; $id++;
$sql['INSERT '.CONFIG_TABLE." ID #".$id] = "INSERT INTO `".CONFIG_TABLE."` VALUES (".$id.", 'gd', 7, 'Качество миниатюр', 'Укажите качество создаваемых миниатюр от 1 до 100 \r\nОпция применима только для jpg миниатюр.', 'gd_thumb_jpg_quality', 'int', '', '90', '90', 0)"; $id++;
$sql['INSERT '.CONFIG_TABLE." ID #".$id] = "INSERT INTO `".CONFIG_TABLE."` VALUES (".$id.", 'gd', 8, 'Вкл/выкл водяной знак', 'Использовать на загружаемых изображениях Watermark (полупрозрачный копирайт) для защиты изображений от копирования на сторонние ресурсы?', 'gd_use_watermark', 'select', 'Нет|no\r\nТекст (2 строки)|text\r\nИзображение|image', 'text', 'no', 0)"; $id++;
$sql['INSERT '.CONFIG_TABLE." ID #".$id] = "INSERT INTO `".CONFIG_TABLE."` VALUES (".$id.", 'gd', 9, 'Первая строка водяного знака', 'Первая строчка водяного знака накладываемого на изображение', 'gd_watermark_string_one', 'string', '', '', '', 0)"; $id++;
$sql['INSERT '.CONFIG_TABLE." ID #".$id] = "INSERT INTO `".CONFIG_TABLE."` VALUES (".$id.", 'gd', 10, 'Вторая строка водяного знака', 'Вторая строчка водяного знака накладываемого на изображение', 'gd_watermark_string_two', 'string', '', 'http://".$_SERVER['SERVER_NAME']."', '', 0)"; $id++;
$sql['INSERT '.CONFIG_TABLE." ID #".$id] = "INSERT INTO `".CONFIG_TABLE."` VALUES (".$id.", 'gd', 11, 'Водяной знак (изображение)', 'Изображение накладываемое на загружаемые изображения в качестве водяного знака.', 'gd_watermark_image', 'image', '', '', '', 0)"; $id++;
$sql['INSERT '.CONFIG_TABLE." ID #".$id] = "INSERT INTO `".CONFIG_TABLE."` VALUES (".$id.", 'users', 1, 'Ширина аватара', 'Укажите размер пользовательского аватара по горизонтали (в пикселях)', 'users_avatar_width', 'int', '', '100', '100', 0)"; $id++;
$sql['INSERT '.CONFIG_TABLE." ID #".$id] = "INSERT INTO `".CONFIG_TABLE."` VALUES (".$id.", 'users', 2, 'Высота аватара', 'Укажите размер пользовательского аватара по горизонтали (в пикселях)', 'users_avatar_height', 'int', '', '100', '100', 0)"; $id++;
$sql['INSERT '.CONFIG_TABLE." ID #".$id] = "INSERT INTO `".CONFIG_TABLE."` VALUES (".$id.", 'cp', 1, 'Вход в панель управления', 'Укажите название файла (скрипта) через который вы будете заходить в Панель Управления.\r\nВнимание! После изменения этой настройки, изменится URI панели управления. В случае если вы изменяли вручную шаблоны панели управления, проверьте, что вы везде указали переменную {&#36;SCRIPT_NAME}', 'cp_script', 'string', '', 'acp.php', 'acp.php', 0)"; $id++;
$sql['INSERT '.CONFIG_TABLE." ID #".$id] = "INSERT INTO `".CONFIG_TABLE."` VALUES (".$id.", 'cp', 2, 'E-mail администратора', 'Укажите адрес электронной почты администратора Он будет использоваться для системных уведомлений.', 'cp_email', 'email', '', '".$site['sysemail']."', '".$site['sysemail']."', 0)"; $id++;
$sql['INSERT '.CONFIG_TABLE." ID #".$id] = "INSERT INTO `".CONFIG_TABLE."` VALUES (".$id.", 'tpl', 1, 'Вкл/выкл режим отладки шаблонов', 'Опцпия активирует принудительную перекомпиляцию шаблонов при каждом вызове.\r\nНикогда не используйте это действие в условиях реальной эксплуатации', 'tpl_recompile_force', 'boolean', '', 'false', 'false', 0)"; $id++;
$sql['INSERT '.CONFIG_TABLE." ID #".$id] = "INSERT INTO `".CONFIG_TABLE."` VALUES (".$id.", 'rss', 1, 'Вкл/Выкл RSS лент', 'Опция глобального включения или отключения RSS лент', 'rss_power', 'boolean', '', 'true', 'true', 0)"; $id++;
$sql['INSERT '.CONFIG_TABLE." ID #".$id] = "INSERT INTO `".CONFIG_TABLE."` VALUES (".$id.", 'rss', 2, 'TTL', 'Время жизни фида в секундах', 'rss_ttl', 'int', '', '240', '240', 0)"; $id++;
$sql['INSERT '.CONFIG_TABLE." ID #".$id] = "INSERT INTO `".CONFIG_TABLE."` VALUES (".$id.", 'feed', 1, 'Количество элементов ленты на страницу', 'Опция устанавливает количество элементов ленты выводимых на одной странице. \nОпция действует глобально, если иное не указано в настройках ленты.', 'feed_items_per_page', 'int', '', '10', '10', 0)"; $id++;


/**
* Таблица страктуры сайта
*/
$sql['DROP '.STRUCTURE_TABLE] = "DROP TABLE IF EXISTS `".STRUCTURE_TABLE."`";
$sql['CREATE'.STRUCTURE_TABLE] = "CREATE TABLE IF NOT EXISTS `".STRUCTURE_TABLE."` (
					  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
					  `alias` varchar(255) NOT NULL COMMENT 'Unique name for structure unit',
					  `parent_id` int(10) unsigned NOT NULL DEFAULT '1' COMMENT 'Identifaction parent structure unit',
					  `sort` int(10) unsigned NOT NULL DEFAULT '0',
					  `title` varchar(255) NOT NULL,
					  `meta_description` varchar(255) NOT NULL,
					  `meta_keywords` varchar(255) NOT NULL,
					  `noindex` enum('0','1') NOT NULL DEFAULT '0' COMMENT 'meta tag robots flag',
					  `page_type` enum('html','php','feed') NOT NULL DEFAULT 'html',
					  `childs` int(10) unsigned NOT NULL DEFAULT '0',
					  `page_id` int(10) unsigned NOT NULL DEFAULT '0',
					  `group_access` varchar(255) NOT NULL DEFAULT '0',
					  `date_create` int(20) unsigned NOT NULL DEFAULT '0' COMMENT 'format: unixtimestamp',
					  `date_modified` int(20) unsigned NOT NULL DEFAULT '0' COMMENT 'format: unixtimestamp',
					  `rss` enum('0','1') NOT NULL DEFAULT '1',
					  `show_child_feeds` enum('none','default','forced') NOT NULL DEFAULT 'none',
					  `items_per_page` int(10) unsigned NOT NULL DEFAULT '0',
					  `items_sorting` enum('datepublication','title_asc','title_desc','manual_sorting') NOT NULL DEFAULT 'datepublication',
					  `items` int(10) unsigned NOT NULL DEFAULT '0',
					  `thumb_img_width` int(10) unsigned NOT NULL DEFAULT '0' COMMENT 'Thumbnail image width [in pixels]',
					  `thumb_img_height` int(10) unsigned NOT NULL DEFAULT '0' COMMENT 'Thumbnail image height [in pixels]',
					  PRIMARY KEY (`id`),
					  UNIQUE KEY `alias` (`alias`),
					  KEY `type` (`page_type`),
					  KEY `page_id` (`page_id`)
					) ENGINE=MyISAM  DEFAULT CHARSET=utf8 AUTO_INCREMENT=1";

$id = 1;
$sql['INSERT '.STRUCTURE_TABLE." ID #".$id] = "INSERT INTO `".STRUCTURE_TABLE."` (`id`, `alias`, `parent_id`, `sort`, `title`, `meta_description`, `meta_keywords`, `noindex`, `page_type`, `childs`, `page_id`, `group_access`, `date_create`, `date_modified`, `rss`, `show_child_feeds`, `items_per_page`, `items_sorting`, `items`, `thumb_img_width`, `thumb_img_height`)
									  VALUES (1, 'index', 0, 0, 'Главная страница', '', 'index', '0', 'html', 0, 1, 0, ".time().", ".time().", '1', 'none', 0, 'datepublication', 0, 0, 0)";

/**
* HTML страницы
*/
$sql['DROP '.PAGES_HTML_TABLE] = "DROP TABLE IF EXISTS `".PAGES_HTML_TABLE."`";
$sql['CREATE'.PAGES_HTML_TABLE] = "CREATE TABLE IF NOT EXISTS `".PAGES_HTML_TABLE."` (
					  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
					  `sid` int(10) unsigned NOT NULL,
					  `content` longtext NOT NULL,
					  `date_modified` int(20) unsigned NOT NULL DEFAULT '0',
					  PRIMARY KEY (`id`),
					  UNIQUE KEY `sid` (`sid`)
					) ENGINE=MyISAM  DEFAULT CHARSET=utf8 PACK_KEYS=1 AUTO_INCREMENT=1";

$sql['INSERT '.PAGES_HTML_TABLE." ID #".$id] = "INSERT INTO `".PAGES_HTML_TABLE."` (`id`, `sid`, `content`, `date_modified`)
									    VALUES (1, 1, '&lt;h1&gt;\r\n	Добро пожаловать!&lt;/h1&gt;\r\nЭто новый сайт, который был создан с помощью системы управления контентом &lt;a href=&quot;http://www.roocms.com&quot;&gt;RooCMS&lt;/a&gt; &lt;br /&gt;\r\n&lt;br /&gt;\r\nRooCMS - это русская система управления сайтом (контентом). Простая и удобная в использовании как программисту или верстальщику, так и людям, которые совершенно незнакомы с производством сайтов.', ".time().")";


/**
* PHP страницы
*/
$sql['DROP '.PAGES_PHP_TABLE] = "DROP TABLE IF EXISTS `".PAGES_PHP_TABLE."`";
$sql['CREATE'.PAGES_PHP_TABLE] = "CREATE TABLE IF NOT EXISTS `".PAGES_PHP_TABLE."` (
					  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
					  `sid` int(10) unsigned NOT NULL,
					  `content` longtext NOT NULL,
					  `date_modified` int(20) unsigned NOT NULL DEFAULT '0',
					  PRIMARY KEY (`id`),
					  UNIQUE KEY `sid` (`sid`)
					) ENGINE=MyISAM  DEFAULT CHARSET=utf8 PACK_KEYS=1 AUTO_INCREMENT=1";


/**
* Ленты
*/
$sql['DROP '.PAGES_FEED_TABLE] = "DROP TABLE IF EXISTS `".PAGES_FEED_TABLE."`";
$sql['CREATE'.PAGES_FEED_TABLE] = "CREATE TABLE IF NOT EXISTS `".PAGES_FEED_TABLE."` (
					  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
					  `sid` int(10) unsigned NOT NULL,
					  `status` enum('0','1') NOT NULL DEFAULT '1',
					  `sort` int(10) unsigned NOT NULL DEFAULT '0',
					  `date_create` int(20) unsigned NOT NULL DEFAULT '0',
					  `date_update` int(20) unsigned NOT NULL DEFAULT '0',
					  `date_publications` int(20) unsigned NOT NULL DEFAULT '0',
					  `date_end_publications` int(20) unsigned NOT NULL DEFAULT '0',
					  `title` varchar(255) NOT NULL,
					  `meta_description` varchar(255) NOT NULL,
					  `meta_keywords` varchar(255) NOT NULL,
					  `brief_item` text NOT NULL,
					  `full_item` longtext NOT NULL,
					  PRIMARY KEY (`id`),
					  KEY `sid` (`sid`),
					  KEY `date_publications` (`date_publications`)
					) ENGINE=MyISAM  DEFAULT CHARSET=utf8 PACK_KEYS=1 AUTO_INCREMENT=1";


/**
* Блоки
*/
$sql['DROP '.BLOCKS_TABLE] = "DROP TABLE IF EXISTS `".BLOCKS_TABLE."`";
$sql['CREATE '.BLOCKS_TABLE] = "CREATE TABLE IF NOT EXISTS `".BLOCKS_TABLE."` (
				  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
				  `alias` varchar(255) NOT NULL COMMENT 'unique name for block',
				  `block_type` enum('html','php') NOT NULL DEFAULT 'html',
				  `title` varchar(255) NOT NULL,
				  `content` longtext NOT NULL COMMENT 'html or php code',
				  `thumb_img_width` INT( 10 ) UNSIGNED NOT NULL DEFAULT  '0',
				  `thumb_img_height` INT( 10 ) UNSIGNED NOT NULL DEFAULT  '0',
				  `date_create` int(20) unsigned NOT NULL DEFAULT '0' COMMENT 'format: unixtimestamp',
				  `date_modified` int(20) unsigned NOT NULL DEFAULT '0' COMMENT 'last modified date',
				  PRIMARY KEY (`id`),
				  UNIQUE KEY `alias` (`alias`)
                                ) ENGINE=MyISAM  DEFAULT CHARSET=utf8 PACK_KEYS=1 AUTO_INCREMENT=1";
//$id = 1;
//$sql['INSERT '.BLOCKS_TABLE." ID #".$id] = "INSERT INTO `".BLOCKS_TABLE."` VALUES('".$id."', 'nav_pages', 'php', 'Меню', 'global &#36;structure;\r\n\r\necho &lt;&lt;&lt;HTML\r\n        &lt;div class=&quot;navbar navbar-default&quot;&gt;\r\n\r\n					  &lt;div class=&quot;navbar-header&quot;&gt;\r\n						&lt;button type=&quot;button&quot; class=&quot;navbar-toggle&quot; data-toggle=&quot;collapse&quot; data-target=&quot;.navbar-exmenu-collapse&quot;&gt;\r\n						  &lt;span class=&quot;sr-only&quot;&gt;Toggle navigation&lt;/span&gt;\r\n						  &lt;span class=&quot;icon-bar&quot;&gt;&lt;/span&gt;\r\n						  &lt;span class=&quot;icon-bar&quot;&gt;&lt;/span&gt;\r\n						  &lt;span class=&quot;icon-bar&quot;&gt;&lt;/span&gt;\r\n						&lt;/button&gt;\r\n					  &lt;/div&gt;\r\n\r\n					&lt;div class=&quot;collapse navbar-collapse navbar-exmenu-collapse&quot;&gt;\r\n						&lt;ul class=&quot;nav navbar-nav&quot;&gt;\r\nHTML;\r\n\r\n&#36;tree = &#36;structure-&gt;sitetree;\r\n\r\n&#36;submenu = false;\r\n\r\nforeach(&#36;tree as &#36;k=&gt;&#36;v) &#123;\r\n	if(&#36;v[&#39;level&#39;] == 0) &#123;\r\n		echo &quot;\r\n			&lt;li&gt;&lt;a href=\\&quot;/\\&quot;&gt;Главная&lt;/a&gt;&lt;/li&gt;\r\n			&lt;li class=\\&quot;divider-vertical\\&quot;&gt;&lt;/li&gt;\r\n		&quot;;\r\n	&#125;\r\n	\r\n	if(&#36;v[&#39;level&#39;] == 1) &#123;\r\n		if(&#36;submenu) &#123;\r\n			&#36;submenu = false;\r\n			echo &quot;&lt;/ul&gt;&lt;/li&gt;&quot;;\r\n		&#125;\r\n		\r\n		echo &quot;\\n&lt;li&gt;&lt;a href=\\&quot;/index.php?page=&#123;&#36;v[&#39;alias&#39;]&#125;\\&quot;&gt;&#123;&#36;v[&#39;title&#39;]&#125;&lt;/a&gt;&lt;/li&gt;&quot;;\r\n		\r\n		if(&#36;v[&#39;childs&#39;] &gt; 0) &#123;\r\n			&#36;submenu = true;\r\n			echo &quot;\r\n				&lt;li class=\\&quot;dropdown\\&quot;&gt;\r\n					&lt;a href=\\&quot;#\\&quot; class=\\&quot;dropdown-toggle\\&quot; data-toggle=\\&quot;dropdown\\&quot;&gt;\r\n						&lt;b class=\\&quot;caret\\&quot;&gt;&lt;/b&gt;\r\n					&lt;/a&gt;\r\n					&lt;ul class=\\&quot;dropdown-menu\\&quot;&gt;\r\n			&quot;;\r\n		&#125;\r\n		else echo &quot;&lt;li class=\\&quot;divider-vertical\\&quot;&gt;&lt;/li&gt;&quot;;\r\n	&#125;\r\n	\r\n	if(&#36;v[&#39;level&#39;] &gt; 1) &#123;\r\n		echo &quot;\\n&lt;li&gt;&lt;a href=\\&quot;/index.php?page=&#123;&#36;v[&#39;alias&#39;]&#125;\\&quot;&gt;&#123;&#36;v[&#39;title&#39;]&#125;&lt;/a&gt;&lt;/li&gt;&quot;;	\r\n	&#125;\r\n&#125;\r\n\r\nif(&#36;submenu) &#123;\r\n	&#36;submenu = false;\r\n	echo &quot;&lt;/ul&gt;&lt;/li&gt;&quot;;\r\n&#125;\r\n\r\necho &lt;&lt;&lt;HTML\r\n				&lt;/ul&gt;\r\n			&lt;/div&gt;\r\n        &lt;/div&gt;\r\nHTML;\r\n', ".time().", ".time().")";


/**
* Изображения
*/
$sql['DROP '.IMAGES_TABLE] = "DROP TABLE IF EXISTS `".IMAGES_TABLE."`";
$sql['CREATE '.IMAGES_TABLE] = "CREATE TABLE IF NOT EXISTS `".IMAGES_TABLE."` (
				  `id` int(10) NOT NULL AUTO_INCREMENT,
				  `attachedto` varchar(255) NOT NULL COMMENT 'site partition and identificator',
				  `filename` varchar(255) NOT NULL,
				  `fileext` varchar(10) NOT NULL COMMENT 'extension file',
				  `sort` int(10) unsigned NOT NULL DEFAULT '0',
				  `alt` varchar(255) NOT NULL COMMENT 'alternative text for hover or unuse image',
				  PRIMARY KEY (`id`),
				  UNIQUE KEY  `id` (  `id` ) ,
				  KEY `filename` (`filename`),
				  KEY `attachedto` (`attachedto`)
				) ENGINE=MyISAM  DEFAULT CHARSET=utf8 PACK_KEYS=1 AUTO_INCREMENT=1";


/**
 * Файлы
 */
$sql['DROP '.FILES_TABLE] = "DROP TABLE IF EXISTS `".FILES_TABLE."`";
$sql['CREATE '.FILES_TABLE] = "CREATE TABLE IF NOT EXISTS `".FILES_TABLE."` (
				  `id` int(10) NOT NULL AUTO_INCREMENT,
				  `attachedto` varchar(255) NOT NULL COMMENT 'site partition and identificator',
				  `filename` varchar(255) NOT NULL,
				  `fileext` varchar(10) NOT NULL COMMENT 'extension file',
				  `sort` int(10) unsigned NOT NULL DEFAULT '0',
				  PRIMARY KEY (  `id` ) ,
				  UNIQUE KEY  `id` (  `id` ) ,
				  KEY  `attachedto` (  `attachedto` ) ,
				  KEY  `filename` (  `filename` )
				) ENGINE=MyISAM  DEFAULT CHARSET=utf8 PACK_KEYS=1 AUTO_INCREMENT=1";


/**
 * Пользователи
 */
$sql['DROP '.USERS_TABLE] = "DROP TABLE IF EXISTS `".USERS_TABLE."`";
$sql['CREATE '.USERS_TABLE] = "CREATE TABLE `".USERS_TABLE."` (
				  `uid` int(10) unsigned NOT NULL AUTO_INCREMENT,
				  `gid` int(10) unsigned NOT NULL DEFAULT '0',
				  `status` enum('0','1') NOT NULL DEFAULT '0',
				  `login` varchar(255) NOT NULL,
				  `nickname` varchar(255) NOT NULL,
				  `email` varchar(255) NOT NULL,
				  `avatar` varchar(255) NOT NULL,
				  `user_name` varchar(255) NOT NULL,
				  `user_surname` varchar(255) NOT NULL,
				  `user_last_name` varchar(255) NOT NULL,
				  `user_birthdate` int(20) unsigned NOT NULL DEFAULT '0',
				  `user_sex` enum('n','m','f') NOT NULL DEFAULT 'n',
				  `title` enum('a','u') NOT NULL DEFAULT 'u',
				  `password` varchar(32) NOT NULL,
				  `salt` char(5) NOT NULL,
				  `ban` enum('0','1') NOT NULL DEFAULT '0',
				  `ban_expiried` int(20) unsigned NOT NULL DEFAULT '0',
				  `ban_reason` varchar(255) NOT NULL,
				  `date_create` int(20) unsigned NOT NULL DEFAULT '0' COMMENT 'format: unixtimestamp',
				  `date_update` int(20) unsigned NOT NULL DEFAULT '0' COMMENT 'format: unixtimestamp',
				  `last_visit` int(20) unsigned NOT NULL DEFAULT '0' COMMENT 'format: unixtimestamp',
				  `user_ip` varchar(15) NOT NULL DEFAULT '0.0.0.0',
				  `activation_code` varchar(10) NOT NULL,
				  `secret_key` varchar(10) NOT NULL,
				  PRIMARY KEY (`uid`),
				  UNIQUE KEY `id` (`uid`,`login`),
				  UNIQUE KEY `nickname` (`nickname`)
				) ENGINE=MyISAM  DEFAULT CHARSET=utf8;";



/**
 * Группы пользователей
 */
$sql['DROP '.USERS_GROUP_TABLE] = "DROP TABLE IF EXISTS `".USERS_GROUP_TABLE."`";
$sql['CREATE '.USERS_GROUP_TABLE] = "CREATE TABLE  `".USERS_GROUP_TABLE."` (
					 `gid` INT( 10 ) UNSIGNED NOT NULL AUTO_INCREMENT ,
					 `title` VARCHAR( 255 ) NOT NULL ,
					 `users` INT( 10 ) UNSIGNED NOT NULL DEFAULT  '0',
					 `date_create` INT( 20 ) UNSIGNED NOT NULL DEFAULT  '0' COMMENT  'format: unixtimestamp',
					 `date_update` INT( 20 ) UNSIGNED NOT NULL DEFAULT  '0' COMMENT  'format: unixtimestamp',
					PRIMARY KEY (  `gid` ) ,
					UNIQUE KEY  `gid` (  `gid` ) ,
					UNIQUE KEY  `title` (  `title` )
					) ENGINE = MYISAM DEFAULT CHARSET = utf8;";


/**
 * Личные сообщения
 */
$sql['DROP '.USERS_PM_TABLE] = "DROP TABLE IF EXISTS `".USERS_PM_TABLE."`";
$sql['CREATE '.USERS_PM_TABLE] = "CREATE TABLE  `".USERS_PM_TABLE."` (
						`id` INT( 10 ) UNSIGNED NOT NULL AUTO_INCREMENT ,
						`from_uid` INT( 10 ) UNSIGNED NOT NULL DEFAULT  '0',
						`to_uid` INT( 10 ) UNSIGNED NOT NULL DEFAULT  '0',
						`title` VARCHAR( 255 ) NOT NULL ,
						`message` TEXT NOT NULL ,
						`see` ENUM(  '0',  '1' ) NOT NULL DEFAULT  '0',
						`date_create` INT( 20 ) UNSIGNED NOT NULL DEFAULT  '0',
						`date_read` INT( 20 ) UNSIGNED NOT NULL DEFAULT  '0',
					PRIMARY KEY (  `id` ) ,
					UNIQUE KEY  `id` (  `id` ) ,
					KEY  `from_uid` (  `from_uid` ,  `to_uid` )
					) ENGINE = MYISAM DEFAULT CHARSET = utf8;";


/**
 * Помощь администратора
 */
$sql['DROP '.HELP_TABLE] = "DROP TABLE IF EXISTS `".HELP_TABLE."`";
$sql['CREATE '.HELP_TABLE] = "CREATE TABLE IF NOT EXISTS `".HELP_TABLE."` (
				  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
				  `uname` varchar(255) NOT NULL,
				  `parent_id` int(10) unsigned NOT NULL DEFAULT '0',
				  `sort` int(10) unsigned NOT NULL DEFAULT '0',
				  `childs` int(10) unsigned NOT NULL DEFAULT '0',
				  `title` varchar(255) NOT NULL,
				  `content` longtext NOT NULL,
				  `date_modified` int(20) unsigned NOT NULL DEFAULT '0',
				  PRIMARY KEY (`id`),
				  UNIQUE KEY `uname` (`uname`)
				) ENGINE=MyISAM  DEFAULT CHARSET=utf8 PACK_KEYS=1 AUTO_INCREMENT=26";

$sql['INSERT '.HELP_TABLE." ID #01"] = "INSERT INTO `".HELP_TABLE."` VALUES(1, 'help', 0, 0, 4, 'Помощь', '&lt;p&gt;Вы находитесь в справочном разделе системы управления контентом - RooCMS.&lt;br /&gt;\r\n&lt;br /&gt;\r\nЧто бы получить информацию о функциях панели управления выберите один из нижеприведенных разделов.&lt;/p&gt;\r\n', 1381472467)";
$sql['INSERT '.HELP_TABLE." ID #02"] = "INSERT INTO `".HELP_TABLE."` VALUES(2, 'acp_structure', 3, 2, 1, 'Структура', '&lt;p&gt;Данный раздел сайта отвечает за управления структурой сайта.&lt;br /&gt;\r\n&lt;br /&gt;\r\nДля наглядности структура сайта представлена ввиде иерархического дерева неограниченной вложенности.&lt;br /&gt;\r\n&lt;br /&gt;\r\nЧто бы добавить новый элемент в структуру нажмите на ссылку справа &amp;quot;&lt;code&gt;Создать новую страницу&lt;/code&gt;&amp;quot;.&lt;br /&gt;\r\n&lt;br /&gt;\r\nЧто бы отредактировать технические параметры отдельной страницы или раздела сайта нажмите на ссылку &amp;quot;&lt;code&gt;Редактировать&lt;/code&gt;&amp;quot;.&lt;br /&gt;\r\n&lt;br /&gt;\r\nЕсли хотите удалить какой либо раздел или страницу сайта, нажмите на ссылку &amp;quot;&lt;code&gt;Удалить&lt;/code&gt;&amp;quot;. Вы не сможете удалить структуреый элемент, если у него имеются подчиненный элементы. Предварительно вам необходимо будет перенести их в подчинение другому элементу или удалить.&lt;/p&gt;\r\n\r\n&lt;p&gt;&lt;span class=&quot;label label-danger&quot;&gt;ВНИМАНИЕ!&lt;/span&gt; Вы не должны удалять корневую (главную) страницу сайта, ведь всем известно, что без главной страницы сайт существовать не может. Удаление корневой странице приведет к неработоспособности системы.&lt;/p&gt;\r\n', 1382922143)";
$sql['INSERT '.HELP_TABLE." ID #03"] = "INSERT INTO `".HELP_TABLE."` VALUES(3, 'acp', 1, 1, 3, 'Панель управления', '&lt;p&gt;В данном разделе собрана информация по управлению сайтом через Панель Администратора.&lt;/p&gt;\r\n\r\n&lt;p&gt;Для получения более подробной справки смотрите подразделы указанный ниже.&lt;/p&gt;\r\n', 1434841884)";
$sql['INSERT '.HELP_TABLE." ID #04"] = "INSERT INTO `".HELP_TABLE."` VALUES(4, 'acp_serverinfo', 8, 1, 0, 'Информация о сервере', '&lt;p&gt;В данном разделе представлена информация о технической и программной сущностях сервера на котором расположен ваш сайт.&lt;br /&gt;\r\nПодобная информация может быть интересна опытным веб мастерам или при обращении в службу поддержки вашего хостинг-провайдера или на сайте разработчика RooCMS.&lt;br /&gt;\r\n&lt;br /&gt;\r\n&lt;b&gt;Версия PHP&lt;/b&gt; - Указывается версия интерпретатора языка PHP на котором написан код данной системы управления. &lt;span class=&quot;label label-warning&quot;&gt;Внимание! RooCMS работает только на основе PHP версии не ниже 5.2.*&lt;/span&gt;&lt;br /&gt;\r\n&lt;b&gt;Версия Zend&lt;/b&gt; - Указывается версия ядра интерпретатора.&lt;br /&gt;\r\n&lt;b&gt;Версия MySQL&lt;/b&gt; - Указывается версия базы данных. В случае возникновения проблем в работе БД, данная информация поможет при поиске решения проблем.&lt;br /&gt;\r\n&lt;b&gt;Версия RooCMS&lt;/b&gt; - Указывается текущая версия системы управления сайтом используемая в данный момент.&lt;br /&gt;\r\n&lt;b&gt;Apache&lt;/b&gt; - Указывается подпись сервера. Из неё можно почерпнуть информацию о версии веб-сервера, наличии SSL, типа PHP интерпретатора (модуль или cgi) и иную информацию&lt;br /&gt;\r\n&lt;b&gt;Имя сервера&lt;/b&gt; - Указывается имя вашего сервера на котором расположен сайт&lt;br /&gt;\r\n&lt;b&gt;Адрес сервера &lt;/b&gt;- Указывается IP адрес вашего физического сервера на котором расположен сайт.&lt;br /&gt;\r\n&lt;b&gt;Протокол сервера&lt;/b&gt; - Указывается протокол передачи данных с сервера до клиента.&lt;br /&gt;\r\n&lt;b&gt;Операционная система&lt;/b&gt; - Указывается операционная система установленная на вашем физическом сервере.&lt;br /&gt;\r\n&lt;b&gt;Операционная система (build)&lt;/b&gt; - Указывается полное название фашей операционной системы, включая заголовок и версию сборки.&lt;br /&gt;\r\n&lt;b&gt;Лимит памяти&lt;/b&gt;&amp;nbsp; - Указывается лимит выделенной памяти под обработку скриптов установленный в настройках веб-сервера или интерпретатора.&lt;/p&gt;\r\n\r\n&lt;blockquote class=&quot;quote quote-info&quot;&gt;\r\n&lt;p&gt;&lt;span style=&quot;font-size:14px&quot;&gt;Данный лимит при необходимости можно увелечить.&lt;br /&gt;\r\nДля этого в файле: /roocms/config/set.cfg.php&lt;br /&gt;\r\nв строке: &lt;code&gt;ini_set(&amp;quot;memory_limit&amp;quot;, &amp;quot;&lt;u&gt;64&lt;/u&gt;M&amp;quot;);&lt;/code&gt;&lt;br /&gt;\r\nзадайте свое значение в формате &amp;quot;&lt;b&gt;&lt;u&gt;n&lt;/u&gt;&lt;/b&gt;M&amp;quot; (где &lt;b&gt;&lt;u&gt;n&lt;/u&gt;&lt;/b&gt; - число Мегабайт)&lt;/span&gt;&lt;/p&gt;\r\n&lt;/blockquote&gt;\r\n\r\n&lt;p&gt;&lt;b&gt;Максимальный размер файлов для загрузки&lt;/b&gt; - Указывается максимально допустимый размер файлов для загрузки в одну операцию.&lt;br /&gt;\r\nКоличество файлов не имеет значение, только общий объем файлов не должен превышать заданный здесь параметр.&lt;/p&gt;\r\n\r\n&lt;blockquote class=&quot;quote quote-info&quot;&gt;\r\n&lt;p&gt;&lt;span style=&quot;font-size:14px&quot;&gt;Данный лимит при необходимости можно увелечить вручную.&lt;br /&gt;\r\nДля этого в файле: /.htaccess&lt;br /&gt;\r\nв строке: &lt;code&gt;php_value upload_max_filesize &lt;u&gt;32&lt;/u&gt;M&lt;/code&gt;&lt;br /&gt;\r\nзадайте свое значение в формате &lt;q&gt;&lt;b&gt;&lt;u&gt;n&lt;/u&gt;&lt;/b&gt;M&lt;/q&gt; (где &lt;b&gt;&lt;u&gt;n&lt;/u&gt;&lt;/b&gt; - число Мегабайт)&lt;/span&gt;&lt;/p&gt;\r\n&lt;/blockquote&gt;\r\n\r\n&lt;p&gt;&lt;b&gt;Максимальный размер постинга&lt;/b&gt; - Указывается максимально допустимый размер загрузки данных передаваемых через формы. Если данный параметр меньше параметра &amp;quot;максимальный размера файлов для загрузки&amp;quot;, то он применяется к тому, как приоритетный.&lt;/p&gt;\r\n\r\n&lt;blockquote class=&quot;quote quote-info&quot;&gt;\r\n&lt;p&gt;&lt;span style=&quot;font-size:14px&quot;&gt;Данный лимит при необходимости можно увелечить вручную.&lt;br /&gt;\r\nДля этого задайте свое значение в формате &lt;q&gt;&lt;b&gt;&lt;u&gt;n&lt;/u&gt;&lt;/b&gt;M&lt;/q&gt; (где &lt;b&gt;&lt;u&gt;n&lt;/u&gt;&lt;/b&gt; - число Мегабайт)&lt;br /&gt;\r\nв файле: /.htaccess&lt;br /&gt;\r\nв строке: &lt;code&gt;php_value post_max_size &lt;u&gt;8&lt;/u&gt;M&lt;/code&gt;&lt;/span&gt;&lt;/p&gt;\r\n&lt;/blockquote&gt;\r\n\r\n&lt;p&gt;&lt;b&gt;Максимальное время исполнение скрипта&lt;/b&gt; - Указывается время (в секундах) в течении которого сервер готов выполнять скрипт. Если время выполнение скрипта окажется больше указанного в данном параметре, сервер прервет выполнение скрипта и выдаст ошибку.&lt;/p&gt;\r\n\r\n&lt;blockquote class=&quot;quote quote-info&quot;&gt;\r\n&lt;p&gt;&lt;span style=&quot;font-size:14px&quot;&gt;Данный лимит при необходимости можно увелечить вручную.&lt;br /&gt;\r\nДля этого задайте свое значение в формате &lt;b&gt;n&lt;/b&gt; (где &lt;b&gt;n&lt;/b&gt; - число секунд)&lt;br /&gt;\r\nв файле: /roocms/config/set.cfg.php&lt;br /&gt;\r\nв строке: &lt;code&gt;ini_set(&amp;quot;max_execution_time&amp;quot;, &lt;u&gt;30&lt;/u&gt;);&lt;/code&gt;&lt;/span&gt;&lt;/p&gt;\r\n&lt;/blockquote&gt;\r\n\r\n&lt;p&gt;&lt;b&gt;Корневая директория сайта&lt;/b&gt; - Указывает полный (физический) путь на сервере до корня вашего сайта.&lt;/p&gt;\r\n', 1393713064)";
$sql['INSERT '.HELP_TABLE." ID #05"] = "INSERT INTO `".HELP_TABLE."` VALUES(5, 'userui', 1, 0, 1, 'Пользовательская часть', '&lt;p&gt;В данном разделе содержится информации о пользовательской части сайта и работе с ней.&lt;/p&gt;\r\n\r\n&lt;p&gt;В подразделах ниже, вы найдете всю необходимую информацию.&lt;/p&gt;\r\n', 1434841876)";
$sql['INSERT '.HELP_TABLE." ID #06"] = "INSERT INTO `".HELP_TABLE."` VALUES(6, 'acp_main', 3, 0, 6, 'Главный экран (сводка по сайту)', '&lt;p&gt;На главной странице панели управления отображается краткая сводка по сайту.&lt;/p&gt;\r\n\r\n&lt;p&gt;&lt;b&gt;Текущая версия RooCMS&lt;/b&gt; - Указана версия системы управления которую вы используете в данный момент.&lt;/p&gt;\r\n\r\n&lt;blockquote class=&quot;quote-danger&quot;&gt;\r\n&lt;p&gt;Если вы видите яркое, выделенное красным цветом, сообщение: &amp;quot;&lt;code&gt;Инсталятор RooCMS находится в корне сайта. В целях безопасности следует удалить инсталятор!&lt;/code&gt;&amp;quot; это означает, что после установки или обновления системы управления сайтом, вы не удалили папку install из корня вашего сайта. На деле сразу после установки RooCMS доступ к скриптам инсталяторам ограничивается паролем администратора и злоумышленник не сможет воспользоваться процедурой установки/обновления, что бы повредить ваш сайт. Но мы все же рекомендует в целях повышения безопасности удалить папку install сразу после установки или обновления сайта.&lt;/p&gt;\r\n&lt;/blockquote&gt;\r\n\r\n&lt;blockquote class=&quot;quote-success&quot;&gt;\r\n&lt;p&gt;На этом экране так же вы можете увидеть объявление, в случае если вышла новая редакция cms. Мы рекомендуем всегда использовать последнию версию платформы, поскольку с выходом каждой новой версии увеличивается число функций и опций системы управления сайтом.&lt;/p&gt;\r\n&lt;/blockquote&gt;\r\n', 1393712853)";
$sql['INSERT '.HELP_TABLE." ID #07"] = "INSERT INTO `".HELP_TABLE."` VALUES(7, 'uiblocks', 15, 0, 0, 'Использование блоков', '&lt;p&gt;Что бы использовать блоки в пользовательской части сайт, вам необходмо в нужном месте (непосредственно в шаблонах) разместить код: &lt;code&gt;&#123;&#36;blocks-&gt;load(&amp;#39;n&amp;#39;)&#125;&lt;/code&gt; вместо &lt;code&gt;n&lt;/code&gt; указав или &lt;kbd&gt;alias&lt;/kbd&gt; блока или &lt;kbd&gt;id&lt;/kbd&gt; блока.&lt;/p&gt;\r\n\r\n&lt;p&gt;Блоки можно использовать и непостредственно через Панель Управления при создании html или php страниц.&lt;br /&gt;\r\nЧто бы вызвать блок внутри вашей html страницы нужно сделать тоже самое, что и в шаблонах - вставить текст: &lt;code&gt;&#123;&#36;blocks-&gt;load(&amp;#39;n&amp;#39;)&#125;&lt;/code&gt; вместо &lt;code&gt;n&lt;/code&gt; указав или &lt;kbd&gt;alias&lt;/kbd&gt; блока или &lt;kbd&gt;id&lt;/kbd&gt; блока.&lt;/p&gt;\r\n\r\n&lt;p&gt;Для вызова блока внутри php страницы используйте код: &lt;code&gt;&#36;blocks-&gt;load(&amp;#39;n&amp;#39;);&lt;/code&gt; вместо &lt;code&gt;n&lt;/code&gt; укаывая &lt;kbd&gt;id&lt;/kbd&gt; или &lt;kbd&gt;alias&lt;/kbd&gt; блока.&lt;/p&gt;\r\n\r\n&lt;blockquote class=&quot;quote quote-info&quot;&gt;&lt;small&gt;Примечение: id или alias блока вы можете в увидеть в списке блоков в разделе панели управления &amp;quot;Блоки&amp;quot;&lt;/small&gt; &lt;small&gt;Внимание! Можно использовать кавычки &amp;quot; или &amp;#39;. А можно и без кавычек. Но только не в PHP.&lt;/small&gt;&lt;/blockquote&gt;\r\n', 1393712708)";
$sql['INSERT '.HELP_TABLE." ID #08"] = "INSERT INTO `".HELP_TABLE."` VALUES(8, 'acp_phpext', 8, 2, 0, 'PHP расширения', '&lt;p&gt;На этой странице представлен список PHP расширений, которые установлены на вашем сервере.&lt;/p&gt;\r\n\r\n&lt;p&gt;Зеленым цветом обозначены критические для работы расширения. Орнажевым цветом обозначены полезные, но не критические расширения.&lt;/p&gt;\r\n\r\n&lt;p&gt;Переключаяюсь между вкладками с заголовками расширений, вы можете просмотреть список функций расширения.&lt;/p&gt;\r\n', 1381532652)";
$sql['INSERT '.HELP_TABLE." ID #09"] = "INSERT INTO `".HELP_TABLE."` VALUES(9, 'acp_inivars', 8, 4, 0, 'PHP переменные', '&lt;p&gt;На данной странице приведена таблица с значениями настроек языка PHP.&lt;/p&gt;\r\n\r\n&lt;p&gt;В первой колонке приведено название параметра. Во второй текущее значение. В третьей значение настроек PHP по-умолчанию. В четвертой колонке обозначен доступ к параметру.&lt;/p&gt;\r\n\r\n&lt;p&gt;Если строка с параметром выделена зеленым цветом, значит текущие настройки действующие на сайт, отличаются от общих настроек PHP выставленных по-умолчанию администратором вашего сервера.&lt;/p&gt;\r\n\r\n&lt;p&gt;Узнать о значении тех или иных параметров и их влияния на работу сервера, можно из документации по PHP.&lt;/p&gt;\r\n\r\n&lt;h3&gt;Немного о доступе к настройкам&lt;/h3&gt;\r\n\r\n&lt;p&gt;Если в строке доступ обозначен &amp;quot;только &lt;code&gt;php.ini&lt;/code&gt; или &lt;code&gt;httpd.conf&lt;/code&gt;&amp;quot; это означает, что вы не сможете изменить значение данного параметра, если у вас нет доступ администратора сервера.&lt;/p&gt;\r\n\r\n&lt;p&gt;Некоторые параметры можно изменять через файл &lt;code&gt;.htaccess&lt;/code&gt; в колонке &amp;quot;доступ&amp;quot; есть соответсвующая пометка. Подробнее узнать об этом вы сможете в инструкциях по htaccess. Ищите описание команд php_value и php_flag&lt;/p&gt;\r\n\r\n&lt;p&gt;Если у строки в колонке &amp;quot;доступ&amp;quot; указано &lt;b&gt;полный доступ&lt;/b&gt;, это означает, что вы сможете влиять на данный параметр и с помошью команды PHP ini_set(); Более подробно о данной команде, вы сможете узнать в документации по языку PHP.&lt;/p&gt;\r\n', 1381530131)";
$sql['INSERT '.HELP_TABLE." ID #10"] = "INSERT INTO `".HELP_TABLE."` VALUES(10, 'acp_fileinfo', 8, 5, 0, 'Файлы и форматы', '&lt;p&gt;На данной странице предоставленны допустимые для загрузки форматы файлов. А так же указаны максимальные размеры файлов и постов для загрузки. (&lt;small&gt;Подробнее об этом можно узнать в разделе помощи описывающем &quot;Информация о сервере&quot;.&lt;/small&gt;)&lt;/p&gt;\r\n\r\n&lt;p&gt;При загрузке файлов через RooCMS все они проверяются не только по расширению, но и по типу файла. Узнать допустимые типы файлов можно наведя мышь на иконку расположенную рядом с расширением иконку.&lt;/p&gt;\r\n', 1393713261)";
$sql['INSERT '.HELP_TABLE." ID #11"] = "INSERT INTO `".HELP_TABLE."` VALUES(11, 'acp_license', 8, 6, 0, 'Лицензия RooCMS', '&lt;p&gt;На &lt;a href=&quot;http://www.roocms.com/index.php?page=license&quot; target=&quot;_blank&quot;&gt;данной странице &lt;sup&gt;&lt;i class=&quot;fa fa-external-link fa-fw&quot;&gt;&lt;/i&gt;&lt;/sup&gt;&lt;/a&gt; приведен полный текст лицензии на русском языке.&lt;/p&gt;\r\n\r\n&lt;blockquote class=&quot;quote quote-warning&quot;&gt;&lt;small&gt;Помните, что настоящий перевод Стандартной Общественной Лицензии GNU на русский язык не является официальным. Он не опубликован Фондом Свободного Программного Обеспечения и не устанавливает имеющих юридическую силу условий для распространения программного обеспечения, которое распространяется на условиях Стандартной Общественной Лицензии GNU. Условия, имеющие юридическую силу, закреплены исключительно в аутентичном тексте Стандартной Общественной Лицензии GNU на английском языке. Мы надеемся, что настоящий перевод поможет русскоязычным пользователям лучше понять содержание Стандартной Общественной Лицензии GNU.&lt;/small&gt;&lt;/blockquote&gt;\r\n\r\n&lt;p&gt;&lt;a href=&quot;http://gplv3.fsf.org/&quot; rel=&quot;nofollow&quot; target=&quot;_blank&quot;&gt;Оригинальный текст лицензии &lt;sup&gt;&lt;i class=&quot;fa fa-external-link fa-fw&quot;&gt;&lt;/i&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/p&gt;\r\n', 1393237620)";
$sql['INSERT '.HELP_TABLE." ID #12"] = "INSERT INTO `".HELP_TABLE."` VALUES(12, 'faq', 1, 99, 3, 'Частые вопросы', '&lt;p&gt;В данном разделе собрана информация не нашедшая места в других разделах, но в тоже время вызывающая частые вопросы пользователей, связанные с RooCMS.&lt;/p&gt;\r\n\r\n&lt;p&gt;Ниже приведен список наиболее часто задаваемых вопросов.&lt;/p&gt;\r\n', 1381441610)";
$sql['INSERT '.HELP_TABLE." ID #13"] = "INSERT INTO `".HELP_TABLE."` VALUES(13, 'uitemplates', 7, 2, 1, 'Работа с шаблонами', '&lt;p&gt;При работе с шаблонами сайта используется html и Smarty. Подробное руководство по использованию Smarty можно найти на сайте &lt;a href=&quot;http://smarty.net/&quot; rel=&quot;nofollow&quot; target=&quot;_blank&quot;&gt;официальном сайте&lt;/a&gt;.&lt;/p&gt;\r\n\r\n&lt;p&gt;Ниже в подразделах приведена информация, об использовании различных алгоритмов RooCMS используемых повсеместно в шаблонах.&lt;br /&gt;\r\n&amp;nbsp;&lt;/p&gt;\r\n', 1382798199)";
$sql['INSERT '.HELP_TABLE." ID #14"] = "INSERT INTO `".HELP_TABLE."` VALUES(14, 'phpinfo', 8, 3, 0, 'PHP Info', '&lt;p&gt;На данной странице показана информация о PHP.&lt;/p&gt;\r\n\r\n&lt;p&gt;В эту информацию включено все касательно PHP и его расширений, включая авторов и разработчиков PHP,&lt;/p&gt;\r\n\r\n&lt;p&gt;Информация на этой странице собирается стандартной функцией языка &lt;code&gt;phpinfo();&lt;/code&gt;&lt;/p&gt;\r\n', 1382920506)";
$sql['INSERT '.HELP_TABLE." ID #15"] = "INSERT INTO `".HELP_TABLE."` VALUES(15, 'acp_structure_create', 2, 0, 0, 'Создание новой страницы', '&lt;p&gt;Что бы создать новую страницу сайта, необходимо нажать соответствующую ссылку в разделе &amp;quot;Структура&amp;quot;, после этого вы уведите форму для создания.&lt;/p&gt;\r\n\r\n&lt;p&gt;Форма имеет несколько полей, которые вам необходимо заполнить:&lt;/p&gt;\r\n\r\n&lt;p&gt;&lt;b&gt;Название страницы&lt;/b&gt; - необходимо указать название страницы. Оно будет использовано в мета теге title. Это поле является обязательным и влияет на поисковую оптимизацию.&lt;/p&gt;\r\n\r\n&lt;p&gt;&lt;b&gt;Alias страницы&lt;/b&gt; - это уникальное имя страницы в структуре сайта. Оно используется в адресе страницы, а также служит идентификатором страницы. Поле может содержать кирилические символы. Если оставить поле пустым, alias будет сформирован автоматически.&lt;/p&gt;\r\n\r\n&lt;p&gt;&lt;b&gt;Meta описание страницы&lt;/b&gt; - поле длинной не более 255 символов, включая пробелы и знаки препинания. Используется для заполнения мета тега description, который анализируется поисковыми роботами.&lt;/p&gt;\r\n\r\n&lt;p&gt;&lt;span style=&quot;text-align: justify;&quot;&gt;&lt;b&gt;Ключевые слова&amp;nbsp;страницы&lt;/b&gt; - поле длинной не более 255 символов, включая пробелы и знаки препинания. Используется для заполнения мета тега keywords, который анализируется поисковыми роботами. По принятым стандартам каждое ключевой слово или фраза должны быть отделены запятой от другого слова или фразы.&lt;/span&gt;&lt;/p&gt;\r\n\r\n&lt;blockquote class=&quot;quote-info&quot;&gt;&lt;span style=&quot;text-align: justify;&quot;&gt;Больше подробностей о мета тегах и для чего они нужны вы можете узнать в Google по запросу &amp;quot;Мета теги для SEO&amp;quot;.&lt;br /&gt;\r\nСоветуем не опираться на первую же прочитанную статью, потому что SEO это весьма неточная наука, но крайне важная для каждого сайта.&lt;/span&gt;&lt;/blockquote&gt;\r\n\r\n&lt;p&gt;&lt;b&gt;SEO NOINDEX&lt;/b&gt; - Опция разрешающая или запрешающая индексацию (анализ и чтение) данной страницы поисковыми роботами. Если вы запретите индексацию, то поисковые машины будут игнорировать вашу страницу при проверке сайта и не показывать её в результатах поисковой выдачи.&lt;/p&gt;\r\n\r\n&lt;p&gt;&lt;b&gt;Ширина и высота&amp;nbsp;миниатюр картинок у этой страницы&lt;/b&gt; - с помощью данных опций вы можете указать какие размеры для миниатюр должны генерироваться при загрузке изображений на данную страницу. Значение параметров указываются в пикселях. &lt;span class=&quot;text-info&quot;&gt;Если оставить данные поля пустыми, то будут применяться глобальные значения из параметров указанных в Настройках сайта.&lt;/span&gt;&lt;/p&gt;\r\n\r\n&lt;p&gt;&lt;b&gt;Порядок расположения страницы в структуре&lt;/b&gt; - Данная опция отвечает за то, каким по порядоку будет сортироваться элемент (страница или лента)&amp;nbsp;в общей структуре сайта. Отсчет ведется от ноля и выше в пределах подчинения родительской странице.&lt;/p&gt;\r\n', 1442444730)";
$sql['INSERT '.HELP_TABLE." ID #16"] = "INSERT INTO `".HELP_TABLE."` VALUES(16, 'dev', 1, 5, 1, 'Разработчику', 'В разделе собрана информация, могущая быть полезной для разработчиков.', 1383981532)";
$sql['INSERT '.HELP_TABLE." ID #17"] = "INSERT INTO `".HELP_TABLE."` VALUES(17, 'dev_api', 18, 1, 4, 'API', '&lt;p&gt;Интерфейс программирования в пределах системы управления сайтом.&lt;/p&gt;\r\n\r\n&lt;p&gt;В разделе описан набор готовых классов, функций, и констант, предоставляемых RooCMS для использования в написании собственных программируемых модулей.&lt;/p&gt;\r\n', 1383981751)";
$sql['INSERT '.HELP_TABLE." ID #18"] = "INSERT INTO `".HELP_TABLE."` VALUES(18, 'randcode', 19, 0, 0, 'Генератор случайных кодов', '&lt;p&gt;Генератор случайных кодов&lt;/p&gt;\r\n\r\n&lt;p&gt;&lt;code&gt;randcode(&#36;ns, &#36;symbols=&amp;quot;ABCEFHKLMNPRSTVXYZ123456789&amp;quot;);&lt;/code&gt;&lt;/p&gt;\r\n\r\n&lt;p&gt;&lt;code&gt;&#36;ns&lt;/code&gt; - &lt;small&gt;[обязательное][целое число]&lt;/small&gt; задает длину кода&lt;br /&gt;\r\n&lt;code&gt;&#36;symbols&lt;/code&gt; - &lt;small&gt;[строка]&lt;/small&gt; в строке указываются символы, которые будут использоваться в коде. Регистр учитывается.&lt;/p&gt;\r\n\r\n&lt;blockquote&gt;&lt;b&gt;Пример 1:&lt;/b&gt;&lt;br /&gt;\r\nСгенерировать случайный код длиной 10 символов из цифр&lt;br /&gt;\r\n&lt;code&gt;&#36;code = randcode(10, &amp;quot;0123456789&amp;quot;);&lt;/code&gt;&lt;br /&gt;\r\n&lt;code&gt;echo &#36;code;&lt;/code&gt;&lt;br /&gt;\r\nВозможный результат:&lt;br /&gt;\r\n&lt;code&gt;7463883201&lt;/code&gt;&lt;/blockquote&gt;\r\n\r\n&lt;blockquote&gt;&lt;b&gt;Пример 2:&lt;/b&gt;&lt;br /&gt;\r\nСгенерировать случайный код длиной 6 символов из символов XYZ&lt;br /&gt;\r\n&lt;code&gt;&#36;code = randcode(6, &amp;quot;XYZ&amp;quot;);&lt;/code&gt;&lt;br /&gt;\r\n&lt;code&gt;echo &#36;code;&lt;/code&gt;&lt;br /&gt;\r\nВозможный результат:&lt;br /&gt;\r\n&lt;code&gt;ZZYXYZ&lt;/code&gt;&lt;/blockquote&gt;\r\n', 1384649861)";
$sql['INSERT '.HELP_TABLE." ID #19"] = "INSERT INTO `".HELP_TABLE."` VALUES(19, 'faq_redirect', 14, 0, 0, 'Перенаправление (Redirect)', '&lt;p&gt;Коды этого класса сообщают клиенту, что для успешного выполнения операции необходимо сделать другой запрос, как правило, по другому URI. Из данного класса пять кодов 301, 302, 303, 305 и 307 относятся непосредственно к перенаправлениям. Адрес, по которому клиенту следует произвести запрос, сервер указывает в заголовке Location. При этом допускается использование фрагментов в целевом URI.&lt;/p&gt;\r\n\r\n&lt;p&gt;По последним стандартам клиент может производить перенаправление без запроса пользователя только если второй ресурс будет запрашиваться методом GET или HEAD[6]. В предыдущих спецификациях говорилось, что для избежания круговых переходов пользователя следует спрашивать после 5-го подряд перенаправления[14]. При всех перенаправлениях, если метод запроса был не HEAD, то в тело ответа следует включить короткое гипертекстовое сообщение с целевым адресом, чтобы в случае ошибки пользователь смог сам произвести переход.&lt;/p&gt;\r\n\r\n&lt;p&gt;Разработчики HTTP отмечают, что многие клиенты при перенаправлениях с кодами 301 и 302 ошибочно применяют метод GET ко второму ресурсу, несмотря на то, что к первому запрос был с иным методом (чаще всего PUT). Чтобы избежать недоразумений, в версии HTTP/1.1 были введены коды 303 и 307 и их рекомендовано использовать вместо 302. Изменять метод нужно только если сервер ответил 303. В остальных случаях следующий запрос производить с исходным методом.&lt;/p&gt;\r\n\r\n&lt;p&gt;&lt;b&gt;300 Multiple Choices&lt;/b&gt; &amp;mdash; по указанному URI существует несколько вариантов предоставления ресурса по типу MIME, по языку или по другим характеристикам. Сервер передаёт с сообщением список альтернатив, давая возможность сделать выбор клиенту автоматически или пользователю. Появился в HTTP/1.0.&lt;br /&gt;\r\n&lt;b&gt;301 Moved Permanently&lt;/b&gt; &amp;mdash; запрошенный документ был окончательно перенесен на новый URI, указанный в поле Location заголовка. Некоторые клиенты некорректно ведут себя при обработке данного кода. Появился в HTTP/1.0.&lt;br /&gt;\r\n&lt;b&gt;302 Found&lt;/b&gt; &amp;mdash; запрошенный документ временно доступен по другому URI, указанному в заголовке в поле Location. Этот код может быть использован, например, при управляемом сервером согласовании содержимого. Некоторые клиенты некорректно ведут себя при обработке данного кода. Введено в HTTP/1.0.&lt;br /&gt;\r\n&lt;b&gt;303 See Other&lt;/b&gt; &amp;mdash; документ по запрошенному URI нужно запросить по адресу в поле Location заголовка с использованием метода GET несмотря даже на то, что первый запрашивался иным методом. Этот код был введён вместе с 307-ым для избежания неоднозначности, чтобы сервер был уверен, что следующий ресурс будет запрошен методом GET. Например, на веб-странице есть поле ввода текста для быстрого перехода и поиска. После ввода данных браузер делает запрос методом POST, включая в тело сообщения введённый текст. Если обнаружен документ с введённым названием, то сервер отвечает кодом 303, указав в заголовке Location его постоянный адрес. Тогда браузер гарантировано его запросит методом GET для получения содержимого. В противном случае сервер просто вернёт клиенту страницу с результатами поиска. Введено в HTTP/1.1.&lt;br /&gt;\r\n&lt;b&gt;304 Not Modified&lt;/b&gt; &amp;mdash; сервер возвращает такой код, если клиент запросил документ методом GET, использовал заголовок If-Modified-Since или If-None-Match и документ не изменился с указанного момента. При этом сообщение сервера не должно содержать тела. Появился в HTTP/1.0.&lt;br /&gt;\r\n&lt;b&gt;305 Use Proxy&lt;/b&gt; &amp;mdash; запрос к запрашиваемому ресурсу должен осуществляться через прокси-сервер, URI которого указан в поле Location заголовка. Данный код ответа могут использовать только исходные HTTP-сервера (не прокси). Введено в HTTP/1.1.&lt;br /&gt;\r\n&lt;b&gt;306 (зарезервировано) &lt;/b&gt;&amp;mdash; использовавшийся раньше код ответа, в настоящий момент зарезервирован. Упомянут в RFC 2616 (обновление HTTP/1.1).&lt;br /&gt;\r\n&lt;b&gt;307 Temporary Redirect&lt;/b&gt; &amp;mdash; запрашиваемый ресурс на короткое время доступен по другому URI, указанный в поле Location заголовка. Этот код был введён вместе с 303 вместо 302-го для избежания неоднозначности. Введено в RFC 2616 (обновление HTTP/1.1).&lt;/p&gt;\r\n\r\n&lt;p&gt;&lt;small&gt;Источник Wikipedia&lt;/small&gt;&lt;/p&gt;\r\n', 1453582734)";
$sql['INSERT '.HELP_TABLE." ID #20"] = "INSERT INTO `".HELP_TABLE."` VALUES(20, 'go', 19, 0, 0, 'Переадресация', '&lt;h4&gt;Переадресация на заданную страницу&lt;/h4&gt;\r\n\r\n&lt;p&gt;&lt;code&gt;go(&#36;address, &#36;code=301);&lt;/code&gt;&lt;/p&gt;\r\n\r\n&lt;p&gt;&lt;code&gt;&#36;address&lt;/code&gt; - &lt;small&gt;[обязательное][строка]&lt;/small&gt; целевой адрес перенаправления. Указывать в формате QUERY_STRING&lt;br /&gt;\r\n&lt;code&gt;&#36;code&lt;/code&gt; - &lt;small&gt;[число]&lt;/small&gt; код переадресации.&lt;/p&gt;\r\n\r\n&lt;blockquote class=&quot;quote-info&quot;&gt;\r\n&lt;p&gt;Больше о кодах переадресации можно узнать из раздела помощи, в подразделе &amp;quot;Частые вопросы &amp;rarr; Перенаправления&amp;quot;&lt;/p&gt;\r\n&lt;/blockquote&gt;\r\n\r\n&lt;blockquote&gt;&lt;b&gt;Пример 1:&lt;/b&gt;&lt;br /&gt;\r\nОтправить посетителя на главную страницу&lt;br /&gt;\r\n&lt;code&gt;go(&amp;quot;index.php&amp;quot;);&lt;/code&gt;&lt;/blockquote&gt;\r\n\r\n&lt;blockquote&gt;\r\n&lt;p&gt;&lt;b&gt;Пример 2: &lt;/b&gt;&lt;br /&gt;\r\nУказать временную переадресацию&lt;br /&gt;\r\n&lt;code&gt;go(&amp;quot;index.php?page=newpage&amp;quot;, 303);&lt;/code&gt;&lt;/p&gt;\r\n&lt;/blockquote&gt;\r\n\r\n&lt;hr /&gt;\r\n&lt;h4&gt;Переадресация обратно&lt;/h4&gt;\r\n\r\n&lt;p&gt;&lt;code&gt;goback();&lt;/code&gt;&lt;/p&gt;\r\n\r\n&lt;p&gt;Данная функция может быть полезна при обработке ошибок или форм, а так же при обработке функций, после которых посетителя надо перенаправить обратно на страницу, с которой он запустил функцию.&lt;/p&gt;\r\n\r\n&lt;blockquote&gt;\r\n&lt;p&gt;&lt;b&gt;Пример 1:&lt;/b&gt;&lt;/p&gt;\r\n\r\n&lt;p&gt;&lt;code&gt;if(&#36;result) go(&amp;quot;index.php&amp;quot;);&lt;/code&gt;&lt;br /&gt;\r\n&lt;code&gt;else goback();&lt;/code&gt;&lt;/p&gt;\r\n&lt;/blockquote&gt;\r\n', 1393717957)";
$sql['INSERT '.HELP_TABLE." ID #21"] = "INSERT INTO `".HELP_TABLE."` VALUES(21, 'sendmail', 19, 0, 0, 'Отправка почтовых сообщений', '&lt;div class=&quot;col-md-12&quot;&gt;\r\n&lt;p&gt;Функция отправки почтовых сообщений&lt;/p&gt;\r\n\r\n&lt;p&gt;&lt;code&gt;sendmail(&#36;mail, &#36;theme, &#36;message, &#36;from=&amp;quot;robot&amp;quot;);&lt;/code&gt;&lt;/p&gt;\r\n\r\n&lt;p&gt;&lt;code&gt;&#36;mail&lt;/code&gt; - &lt;small&gt;[обязательное][строка]&lt;/small&gt; полный почтовый адрес получателя. Например: user@roocms.com&lt;br /&gt;\r\n&lt;code&gt;&#36;theme&lt;/code&gt;- &lt;small&gt;[обязательное][строка]&lt;/small&gt; Тема письма.&lt;br /&gt;\r\n&lt;code&gt;&#36;message&lt;/code&gt; - &lt;small&gt;[обязательное][строка]&lt;/small&gt; Текст сообщения.&lt;br /&gt;\r\n&lt;code&gt;&#36;from&lt;/code&gt; - &lt;small&gt;[строка]&lt;/small&gt; почтовый адрес отправителя. Например webmaster@roocms.com&lt;/p&gt;\r\n\r\n&lt;blockquote&gt;&lt;b&gt;Пример 1:&lt;/b&gt;&lt;br /&gt;\r\nОтправить письмо посетителю сайта&lt;br /&gt;\r\n&lt;code&gt;sendmail(&amp;quot;user@roocms.com&amp;quot;,&amp;quot;Тема письма&amp;quot;,&amp;quot;Сообщение для посетителя сайта&amp;quot;,&amp;quot;roosso@roocms.com&amp;quot;);&lt;/code&gt;&lt;/blockquote&gt;\r\n\r\n&lt;blockquote class=&quot;quote-info&quot;&gt;Сообщение для посетителя сайта&amp;nbsp;может быть представленно ввиде обыкновенного текста или в формате HTML разметки почтовых сообщений. Пример такой разметки можно увидеть в шаблонах email сообщений.&lt;/blockquote&gt;\r\n&lt;/div&gt;\r\n', 1435032743)";
$sql['INSERT '.HELP_TABLE." ID #22"] = "INSERT INTO `".HELP_TABLE."` VALUES(22, 'debug', 19, 0, 0, 'Вызов отладки (Режим отладки)', '&lt;h3&gt;Режим отладки&lt;/h3&gt;\r\n\r\n&lt;p&gt;Во время работы над скриптами, разработчикам часто требуются функции отладки.&lt;/p&gt;\r\n\r\n&lt;p&gt;Что бы включить отладку скриптов и вывод ошибок, необходимо в файле: &lt;code&gt;/roocms/config/set.cfg.php&lt;/code&gt; изменить значение константы &lt;kbd&gt;DEBUGMODE&lt;/kbd&gt; на &lt;code&gt;true&lt;/code&gt; &lt;small&gt;(строка: 57)&lt;/small&gt;&lt;/p&gt;\r\n\r\n&lt;p&gt;По умолчанию отладка выключена.&lt;/p&gt;\r\n\r\n&lt;blockquote&gt;\r\n&lt;p&gt;&lt;b&gt;Пример включенного режима отладки:&lt;/b&gt;&lt;/p&gt;\r\n\r\n&lt;p&gt;&lt;code&gt;define(&amp;#39;DEBUGMODE&amp;#39;,&amp;nbsp;&amp;nbsp; &amp;nbsp;true);&lt;/code&gt;&lt;/p&gt;\r\n&lt;/blockquote&gt;\r\n\r\n&lt;blockquote&gt;\r\n&lt;p&gt;&lt;b&gt;Пример выключенного режима отладки:&lt;/b&gt;&lt;/p&gt;\r\n\r\n&lt;p&gt;&lt;code&gt;define(&amp;#39;DEBUGMODE&amp;#39;,&amp;nbsp;&amp;nbsp;&amp;nbsp; false);&lt;/code&gt;&lt;/p&gt;\r\n&lt;/blockquote&gt;\r\n\r\n&lt;blockquote class=&quot;quote-danger&quot;&gt;\r\n&lt;p&gt;Не забывайте выключать режим отладки, перед загрузкой скриптов и дампов на работающий сайт. Иначе потенциальный злоумышленник может искусственно вызвав ошибку, получить какую либо информацию о вашем сайте или сервере.&lt;/p&gt;\r\n&lt;/blockquote&gt;\r\n\r\n&lt;p&gt;При включенном режиме отладки, в случае возникновения ошибок в скриптах, вам будет показано уведомление об ошибке, с указанием типа ошибка, и её расположения в файле. Но помните, что ошибки так же будут видеть и все посетители сайта. Это сделано умышленно, что бы программисты и администраторы могли видеть сайт и работу его функций с позиции обычных посетителей и проводить отладку.&lt;/p&gt;\r\n\r\n&lt;p&gt;При выключенном режиме отладки все возможные ошибки и сбои не показываются никому, но при этом они записываются в специальные лог файлы. Все ошибки которые интерпретатор PHP может обработать и продолжать работу (некретические ошибки и уведомления), записываются в файл &lt;code&gt;/cache/logs/errors.log&lt;/code&gt;&lt;/p&gt;\r\n\r\n&lt;p&gt;Критический ошибки, приводящие к остановке скриптов и работы с сайтом, записываются в файл &lt;code&gt;/cache/logs/php_error.log&lt;/code&gt; Если режим отладки выключен, то посетителю будет показана страница-заглушка (в случае если сервер может обратится к ней и выполнить её вывод. Некоторые критические ошибки не позволят этого сделать, и посетитель увидит стандартное сообщение об ошибке.&lt;/p&gt;\r\n\r\n&lt;blockquote class=&quot;quote-info&quot;&gt;\r\n&lt;p&gt;Доступ к этим файлам вы можете получить только через ftp.&lt;/p&gt;\r\n&lt;/blockquote&gt;\r\n\r\n&lt;h3&gt;Отладка переменных (массивов, констант и т.д. и т.п.)&lt;/h3&gt;\r\n\r\n&lt;p&gt;&lt;code&gt;debug(&#36;obj, &#36;expand=false);&lt;/code&gt;&lt;/p&gt;\r\n\r\n&lt;p&gt;&lt;code&gt;&#36;obj&lt;/code&gt; - &lt;small&gt;[обязательное][переменная, массив, объект, константа]&lt;/small&gt; объект отладки&lt;br /&gt;\r\n&lt;code&gt;&#36;expand&lt;/code&gt; - &lt;small&gt;[булево]&lt;/small&gt; Значение &lt;code&gt;true&lt;/code&gt; выведет самые подробные результаты отладки, что требуется крайне редко.&lt;/p&gt;\r\n\r\n&lt;blockquote&gt;\r\n&lt;p&gt;&lt;b&gt;Пример 1:&lt;/b&gt;&lt;/p&gt;\r\n\r\n&lt;p&gt;&lt;code&gt;&#36;r = array(1,2,3,5,4);&lt;/code&gt;&lt;br /&gt;\r\n&lt;code&gt;debug(&#36;r);&lt;/code&gt;&lt;/p&gt;\r\n\r\n&lt;p&gt;Результат:&lt;/p&gt;\r\n&lt;code&gt;Array ( &lt;/code&gt;&lt;br /&gt;\r\n&lt;code&gt;[0] =&gt; 1&lt;/code&gt;&lt;br /&gt;\r\n&lt;code&gt;[1] =&gt; 2 &lt;/code&gt;&lt;br /&gt;\r\n&lt;code&gt;[2] =&gt; 3&lt;/code&gt;&lt;br /&gt;\r\n&lt;code&gt;[3] =&gt; 5&lt;/code&gt;&lt;br /&gt;\r\n&lt;code&gt;[4] =&gt; 4 &lt;/code&gt;&lt;br /&gt;\r\n&lt;code&gt;)&lt;/code&gt;&lt;br /&gt;\r\n&lt;small&gt;Результать отладки вы увидете внизу страницы. Это сделано специально, что бы не &amp;quot;рвать&amp;quot; шаблон во время отладки&lt;/small&gt;&lt;/blockquote&gt;\r\n\r\n&lt;blockquote&gt;\r\n&lt;p&gt;&lt;b&gt;Пример 2:&lt;/b&gt;&lt;/p&gt;\r\n\r\n&lt;p&gt;&lt;code&gt;&#36;r = array(1,2,3,5,4);&lt;/code&gt;&lt;br /&gt;\r\n&lt;code&gt;debug(&#36;r, true);&lt;/code&gt;&lt;/p&gt;\r\n\r\n&lt;p&gt;Попробуйте сами, что бы увидеть ;)&lt;/p&gt;\r\n&lt;/blockquote&gt;\r\n\r\n&lt;p&gt;&amp;nbsp;&lt;/p&gt;\r\n', 1442444874)";
$sql['INSERT '.HELP_TABLE." ID #23"] = "INSERT INTO `".HELP_TABLE."` VALUES(23, 'acp_config', 3, 7, 2, 'Настройки', '&lt;p&gt;Данный раздел Панели Управления отвечает за глобальный настройки сайта применяемые повсеместно.&lt;/p&gt;\r\n\r\n&lt;p&gt;&lt;span class=&quot;label label-danger&quot;&gt;Внимание!&lt;/span&gt;&amp;nbsp;Все настройки из данного раздела применяются глобально по всему сайту и действуют для всех пользователей, включая администраторов сайта.&lt;/p&gt;\r\n', 1453571706)";
$sql['INSERT '.HELP_TABLE." ID #24"] = "INSERT INTO `".HELP_TABLE."` VALUES(24, 'acp_config_part_global', 26, 1, 0, 'Общие настройки', '&lt;p&gt;&lt;b&gt;Название сайта&lt;/b&gt; - Поле длинной не более 255 символов, включая пробелы и знаки препинания. Используется в теге title, который показывается в заголовке окна браузера.&lt;/p&gt;\r\n\r\n&lt;p&gt;&lt;b&gt;Глобальный заголовок&lt;/b&gt; - Данная опция указывает применять ли &lt;code&gt;Название сайта&lt;/code&gt; во всех заголовках на сайта. Если вы включите данную опцию, то в самом конце заголовка страницы будет дописывать &lt;code&gt;название сайта&lt;/code&gt;. Данная опция имеет значение для SEO продвижения, подробнее об этом вы можете почитать в интернете введя поисковый запрос &amp;quot;&lt;i&gt;SEO title&lt;/i&gt;&amp;quot;.&lt;/p&gt;\r\n\r\n&lt;p&gt;&lt;b&gt;Meta описание&lt;/b&gt; - поле длинной не более 255 символов, включая пробелы и знаки препинания. Используется для заполнения мета тега description, который анализируется поисковыми роботами. Значение указанное здесь используется в качестве значения по-умолчанию на всех страницах сайта. Если для какой-либо страницы или элемента структуры сайта не указано значение данного поля, то значение будет использоваться из этой настройки.&lt;/p&gt;\r\n\r\n&lt;blockquote class=&quot;quote-info&quot;&gt;\r\n&lt;p&gt;Данный тег используется при создании краткого описания страницы, используется поисковыми системами для индексации, а также при создании аннотации в выдаче по запросу. При отсутствии тега поисковые системы выдают в аннотации первую строку документа или отрывок (не всегда, подробности можно найти в интернете по запросу &amp;quot;&lt;i&gt;&lt;i&gt;SEO мета тэг Description&lt;/i&gt;&lt;/i&gt;&amp;quot;), содержащий ключевые слова. Отображается после ссылки при поиске страниц в поисковике.&lt;/p&gt;\r\n&lt;/blockquote&gt;\r\n\r\n&lt;p&gt;&lt;b&gt;Meta Ключевые слова&lt;/b&gt; - поле длинной не более 255 символов, включая пробелы и знаки препинания. Используется для заполнения мета тега keywords, который анализируется поисковыми роботами. По принятым стандартам каждое ключевой слово или фраза должны быть отделены запятой от другого слова или фразы. Значение указанное здесь используется в качестве значения по-умолчанию на всех страницах сайта. Если для какой-либо страницы или элемента структуры сайта не указано значение данного поля, то значение будет использоваться из этой настройки.&lt;/p&gt;\r\n\r\n&lt;blockquote class=&quot;quote-info&quot;&gt;\r\n&lt;p&gt;Данный мета-тег поисковые системы используют для того, чтобы определить релевантность ссылки. При формировании данного тега необходимо использовать только те слова, которые содержатся в самом документе. Использование тех слов, которых нет на странице, не рекомендуется. Рекомендованное количество слов в данном теге &amp;mdash; не более десяти. Кроме того, выявлено, что разбивка этого тега на несколько строк влияет на оценку ссылки поисковыми машинами. Больше подробностей можно найти в интернете по запросу &amp;quot;&lt;i&gt;SEO мета тэг Keywords&lt;/i&gt;&amp;quot;&lt;/p&gt;\r\n&lt;/blockquote&gt;\r\n\r\n&lt;p&gt;&lt;b&gt;Заголовок 304&lt;/b&gt; - Опция включает/выключает ответ заголовка с кодом 304 на запрос IF_MODIFED_SINCE от поисковых роботов там где это разрешено. Во включенном состоянии опция позволит поисковым роботам быстрее индексировать ваш сайт и ускоряет работу шаблонизатора.&lt;/p&gt;\r\n\r\n&lt;blockquote class=&quot;quote-info&quot;&gt;\r\n&lt;p&gt;HTTP заголовок Last-Modified сообщает клиенту время последнего изменения страницы (объекта). Если клиент (браузер, поисковый робот) получил заголовок Last-Modified, то при следующем обращении к адресу, при условии, что страница (объект) есть в локальном кеше, он добавит вопрос If-Modified-Since (не изменилась ли страница после даты, полученной в Last-Modified). В свою очередь сервер, получив запрос If-Modified-Since должен сверить полученную временную метку с временем последнего изменения страницы и, если страница не изменялась ответить 304 Not Modified.&lt;br /&gt;\r\n&lt;br /&gt;\r\nДанная опция применяется только для поисковых роботов. Это позволяет быстрее индексировать новые и измененные страницы.&lt;/p&gt;\r\n&lt;/blockquote&gt;\r\n', 1453573643)";
$sql['INSERT '.HELP_TABLE." ID #25"] = "INSERT INTO `".HELP_TABLE."` VALUES(25, 'acp_config_part_gd', 26, 2, 0, 'Обработка изображений', '&lt;p&gt;Настройки из данного раздела отвечают за программную обработку изображений на сайте. В числе которых создание миниатюр, изменение размеров оригинального изображения и нанесение водяного знака.&lt;/p&gt;\r\n\r\n&lt;p&gt;В разделе вы можете управлять следующими опциями:&lt;/p&gt;\r\n\r\n&lt;p&gt;&lt;b&gt;Максимальная ширина изображений&lt;/b&gt; - Укажите максимальную ширину загружаемых изображений в пикселях. В случае если изображение окажется больше указанной ширины, оно будет пропорционально уменьшено до указанной в этой опции.&lt;/p&gt;\r\n\r\n&lt;p&gt;&lt;b&gt;Максимальная высота изображений&lt;/b&gt; - Укажите максимальную высоту загружаемых изображений в пикселях. В случае если изображение окажется больше указанной высоты, оно будет пропорционально уменьшено до указанной в этой опции.&lt;/p&gt;\r\n\r\n&lt;blockquote class=&quot;quote-primary&quot;&gt;\r\n&lt;p&gt;&lt;b&gt;Пример&lt;/b&gt;: Вы загружаете изображение размером 2000px на 1800px. Алгоритм определяет, что наибольшей стороной неподходящей к указанным параметрам является ширина в 2000px. И уменьшает изображение до указанной вами в параметрах. Например вы указали что ширина не должна превышать 1000px. В этом случае изображение будет уменьшено до размеров 1000px на 900px соответствено.&lt;/p&gt;\r\n&lt;/blockquote&gt;\r\n\r\n&lt;p&gt;&lt;b&gt;Ширина миниатюры&lt;/b&gt; - В данной опции необходимо указать в пикселях ширину миниатюрного изображения, которое будет создано в процессе загрузки изображения.&lt;/p&gt;\r\n\r\n&lt;p&gt;&lt;b&gt;Высота миниатюры&lt;/b&gt; - В данной опции необходимо указать в пикселях высоту миниатюрного изображения, которое будет создано в процессе загрузки изображения.&lt;/p&gt;\r\n\r\n&lt;blockquote class=&quot;quote-info&quot;&gt;\r\n&lt;p&gt;&lt;b&gt;Для справки&lt;/b&gt;: Миниатюры создаются при публикации больших изображений и содержат в себе его уменьшенную копию или часть ее, для предпросмотра (например в галереях). Данный механизм экономит пользователям вашего сайта время на загрузку страниц и просмотр изображений, а вам трафик с сайта и нагрузку на жесткие диски.&lt;/p&gt;\r\n&lt;/blockquote&gt;\r\n\r\n&lt;p&gt;&lt;b&gt;Тип миниатюры&lt;/b&gt; - данная опция отвечает за алгоритм создания миниатюр. Существует два варианта - &lt;code&gt;Заполнение&lt;/code&gt;&amp;nbsp;и &lt;code&gt;По размеру&lt;/code&gt;. Если вы выберите &lt;code&gt;Заполнение&lt;/code&gt;, то алгоритм будет следующим: Исходное изображение будет пропорционально уменьшено по максимальной стороне подходящей под размеры миниатюры и&amp;nbsp;вписано в заданные размеры, таким образом, чтобы не оставлять пустого пространства. Во избежание деформации изображения (растяжения или искажения) избыток изображения, находящий за пределами области указанной в размерах миниатюры будет отрезан. Говоря простыми словами, будет создано уменьшенное изображение, на котором будет отображаться центровая композиция исходного изображения. Если вы выберите значение &lt;code&gt;По размеру&lt;/code&gt;, то в этом случае алгоритм создаст миниатюрное изображение, которое будет полностью вписываться в заданные параметры высоты и ширины миниатюры. Но из-за разности пропорций изображений, по бокам или сверху и снизу на миниатюре, окажется свободное пространство, фон этого пространства будет обладать цветом указанным в опции ниже.&lt;/p&gt;\r\n\r\n&lt;p&gt;&lt;b&gt;Цвет фона миниатюры&lt;/b&gt; - ...&lt;/p&gt;\r\n\r\n&lt;p&gt;&lt;b&gt;Качество миниатюр&lt;/b&gt; - ...&lt;/p&gt;\r\n\r\n&lt;p&gt;&lt;b&gt;Вкл/Выкл водяной знак&lt;/b&gt; - ...&lt;/p&gt;\r\n\r\n&lt;blockquote class=&quot;quote-info&quot;&gt;\r\n&lt;p&gt;&lt;b&gt;Для справки&lt;/b&gt;: Водяно́й знак (также филигра́нь) &amp;mdash; видимое изображение или рисунок на бумаге, который выглядит светлее при просмотре на просвет (или темнее при просмотре в отражённом свете на тёмном фоне).&lt;br /&gt;\r\nЧаще всего водяной знак используется для защиты авторских прав. В отношении изображений часто данный прием применяется фотографами. Но водяной знак не является указанием обладания авторских прав на изображения.&lt;br /&gt;\r\nНанесение водяного знака может способствовать популяризации ресурса через поисковые ресурсы.&lt;/p&gt;\r\n&lt;/blockquote&gt;\r\n', 1453579776)";
$sql['INSERT '.HELP_TABLE." ID #26"] = "INSERT INTO `".HELP_TABLE."` VALUES(26, 'faq_htaccess_redirect', 30, 0, 0, 'Директивы простого перенаправления', '&lt;h2&gt;Директивы простого перенаправления (редирект)&lt;/h2&gt;\r\n\r\n&lt;p&gt;Наиболее часто используемые, и наиболее сложные директивы &lt;b&gt;.htaccess&lt;/b&gt;. Предположим мы хотим при запросе нашего сайта переадресовать пользователя на другой URL, для этого нам необходимо в корневую директорию сайта добавить файл &lt;b&gt;.htaccess&lt;/b&gt; со следующим содержимым&lt;/p&gt;\r\n\r\n&lt;blockquote class=&quot;quote-info&quot;&gt;\r\n&lt;p&gt;Redirect / http://www.example.com&lt;br /&gt;\r\n# http://www.example.com - URL На который мы перенаправляем запросы&lt;/p&gt;\r\n&lt;/blockquote&gt;\r\n\r\n&lt;p&gt;более сложный пример, мы хотим определенные страницы нашего сайта переадресовывать на другие сайты&lt;/p&gt;\r\n\r\n&lt;blockquote class=&quot;quote-info&quot;&gt;\r\n&lt;p&gt;Redirect /linux http://www.linux.org&lt;br /&gt;\r\nRedirect /linux/download.html http://www.linux.org/dist/download_info.html&lt;br /&gt;\r\nRedirect 301 /kernel http://www.linux.org&lt;/p&gt;\r\n&lt;/blockquote&gt;\r\n\r\n&lt;p&gt;теперь при наборе http://mysite.ru/linux будут открываться http://www.linux.org.&lt;/p&gt;\r\n\r\n&lt;p&gt;В последнем примере WEB сервер будет передавать код 301, что означает &amp;quot;документ перемещен постоянно&amp;quot;.&lt;/p&gt;\r\n\r\n&lt;p&gt;Синтаксис команды Redirect выглядит следующим образом:&lt;/p&gt;\r\n\r\n&lt;blockquote class=&quot;quote-info&quot;&gt;\r\n&lt;p&gt;Redirect [status] URL_LOCAL URL_REDIRECT&lt;/p&gt;\r\n\r\n&lt;p&gt;status : необязательное поле, определяет код возврата, допустимые значения:&lt;/p&gt;\r\n\r\n&lt;p style=&quot;margin-left: 40px;&quot;&gt;* permanent (301 &amp;mdash; документ перемещен постоянно)&lt;br /&gt;\r\n* temp (302 &amp;mdash; документ перемещен временно)&lt;br /&gt;\r\n* seeother (303 &amp;mdash; смотрите другой)&lt;br /&gt;\r\n* gone (410 &amp;mdash; убран)&lt;/p&gt;\r\n\r\n&lt;p&gt;URL_LOCAL : локальная часть URL запрашиваемого документа.&lt;/p&gt;\r\n\r\n&lt;p&gt;URL_REDIRECT : URL куда должен быть выполнен редирект.&lt;/p&gt;\r\n&lt;/blockquote&gt;\r\n\r\n&lt;p&gt;Директива RedirectMatch аналогична директиве Redirect за исключением того, что в RedirectMatch возможно использование регулярных выражений, что, несомненно, может быть удобно в некоторых условиях. Например, для организации передачи параметров скрипту в теле URL.&lt;/p&gt;\r\n\r\n&lt;blockquote class=&quot;quote-info&quot;&gt;\r\n&lt;p&gt;RedirectMatch /(.*)/(.*)/index.html&#36; http://mysite.ru/script.php?par1=&#36;1&amp;amp;par2=&#36;2&amp;nbsp;&lt;/p&gt;\r\n&lt;/blockquote&gt;\r\n\r\n&lt;p&gt;Хотя данный пример и вызовет перезагрузку страницы в дальнейшем его можно будет улучшить. Здесь необходимо сделать небольшое лирическое отступление и поговорить о синтаксисе регулярных выражений. В регулярном выражении можно использовать любые печатные символы и пробел, но часть символов имеет особое значение:&lt;/p&gt;\r\n\r\n&lt;blockquote class=&quot;quote-info&quot;&gt;\r\n&lt;ul&gt;\r\n	&lt;li&gt;Круглые скобки () используются для выделения групп символов. В дальнейшем к ним можно обращаться по номеру.&lt;/li&gt;\r\n	&lt;li&gt;Символ ^ обозначает начало строки.&lt;/li&gt;\r\n	&lt;li&gt;Символ &#36; обозначает конец строки.&lt;/li&gt;\r\n	&lt;li&gt;Символ . обозначает любой символ.&lt;/li&gt;\r\n	&lt;li&gt;Символ | обозначает альтернативу. Например, выражения &amp;quot;A|B&amp;quot; означают &amp;quot;A или B&amp;quot;.&lt;/li&gt;\r\n	&lt;li&gt;Символ ? ставится после символа (группы), который может как присутствовать, так и отсутствовать.&lt;/li&gt;\r\n	&lt;li&gt;Символ * ставится после символа (группы), который может отсутствовать или присутствовать неограниченное число раз подряд.&lt;/li&gt;\r\n	&lt;li&gt;Символ + действует аналогично символу * с той лишь разницей, что предшествующий ему символ обязательно должен присутствовать хотя бы один раз.&lt;/li&gt;\r\n	&lt;li&gt;Квадратные скобки [] используются для перечисления допустимых символов.&lt;/li&gt;\r\n	&lt;li&gt;Квадратные скобки [^] используются для перечисления недоступных символов.&lt;/li&gt;\r\n	&lt;li&gt;Символ \\ ставится перед спецсимволами, если они нужны в своем первозданном виде.&lt;/li&gt;\r\n	&lt;li&gt;Все, что расположено после символа &amp;#39;#&amp;#39;, считается комментарием.&lt;/li&gt;\r\n&lt;/ul&gt;\r\n&lt;/blockquote&gt;\r\n\r\n&lt;p&gt;Это все основные примитивы, с помощью которых можно построить любое регулярное выражение.&lt;/p&gt;\r\n', 1453585797)";
$sql['INSERT '.HELP_TABLE." ID #27"] = "INSERT INTO `".HELP_TABLE."` VALUES(27, 'faq_htaccess', 14, 0, 2, '.htaccess', '&lt;pre&gt;\r\n    - Google выше ранжирует сайты, которые загружаются быстрее.\r\n    - Если на eBay или Amazone увеличить время загрузки страниц на 9% они теряют 1% прибыли.\r\n    - Сделать свой сайт быстрее, чтобы сэкономить на клиентском трафике и на числе обращений к серверу.&lt;/pre&gt;\r\n\r\n&lt;h3&gt;.htaccess &amp;mdash; наш герой&lt;/h3&gt;\r\n&lt;br /&gt;\r\nПрофессионалы знают, что такое .htaccess.&lt;br /&gt;\r\nТем кто собираются уйти с народ.ру на php-хостинг только предстоит узнать, что это такое.&lt;br /&gt;\r\nТе кто только что установил свои первые jooml&amp;#39;у или wordpress срочно должны узнать о нашем герое &amp;mdash; htaccess\r\n&lt;h3&gt;Зачем нам .htaccess ?&lt;/h3&gt;\r\n\r\n&lt;p&gt;&lt;br /&gt;\r\nПредставьте, что вы купили себе хостинг и кажется, почти обрели счастье. Но однажды (а может быть дважды, а может и трижды) ваш сайт перестает отвечать на запросы. Начинает медленно грузиться и вообще вести себя странно. А виртуальный хостинг это такая хитрая штука, что помимо вашего сайта на этом сервере находится ещё два десятка других сайтов. Все они разные по мощности, организованности и трафику. И когда ваш сосед по случайности, а может и умыслу запускает на своем хостинге сложные или избыточные в алгоритмах скрипты, это отзывается и на вас.&lt;/p&gt;\r\n\r\n&lt;p&gt;Или другой пример. Скажем ваш ресурс начинает набирать популярность, но переезжать на выделенный сервер ещё рано, а мощностей VPS уже не хватает. Вас очень может выручить htaccess.&lt;/p&gt;\r\n\r\n&lt;p&gt;А ещё htaccess может решить некоторые вопросы с безопасностью вашего сайта.&lt;/p&gt;\r\n\r\n&lt;h1&gt;Хочу идеальный .htaccess !&lt;/h1&gt;\r\n&lt;br /&gt;\r\nОказывается в интернете много различной противоречивой информации относительно того как использовать .htaccess. Пришлось долго и нудно экспериментировать, чтобы понять что истинно, а что ложно. В большинстве случаев авторы советов в своих блогах забывают упомянуть, что для работы определенных условий нужен тот или иной модуль Апача.&lt;br /&gt;\r\nВпрочем хватит слов, пора к делу. Попробуем создать почти идеальный .htaccess&lt;br /&gt;\r\n&lt;br /&gt;\r\n1. Первой строкой задаем основные опции:\r\n&lt;pre&gt;\r\nOptions All -ExecCGI -Indexes -Includes +FollowSymLinks&lt;/pre&gt;\r\n\r\n&lt;p&gt;Использовать опции очень удобно, когда у вас нет доступа к конфигурированию Апача или нужны разные настройки Апача для разных сайтов на одном сервере.&lt;/p&gt;\r\n\r\n&lt;p&gt;Опция -ExecCGI запрещает запуск CGI скриптов. Лучше разрешить только для конкретных папок. Повысит безопасность.&lt;br /&gt;\r\nОпция -Indexes запрещает показывать содержимое каталогов, если в них нет индексного файла. На виртуальном хостинге обычно включена по умолчанию. Изменив минус на плюс +Indexes можете наоборот разрешить просмотр содержимого каталога (или каталогов).&lt;br /&gt;\r\nОпция&amp;nbsp;-Includes запрещает SSI. Если не знаете, что это &amp;mdash; запрещайте (Можно поЯндексировать(&lt;abbr title=&quot;Словечко то какое выдумал...&quot;&gt;!&lt;/abbr&gt;) по запросу Server Side Include если хотите узнать об этом побольше). Можно использовать опцию IncludesNOEXEC, которая разрешит использовать SSI без запуска скриптов.&lt;br /&gt;\r\nОпция +FollowSymLinks позволяет использовать символические ссылки на файлы или каталоги, не находящиеся в пределах корня вашего сайта.&lt;/p&gt;\r\n\r\n&lt;p&gt;Примечание:&lt;/p&gt;\r\n\r\n&lt;p&gt;Вы можете использовать htaccess с разными настройками для разных каталогов. В корне сайта вы можете объявить -Indexes, а в избранных каталогах создать ещё один файл .htaccess и в нем объявить +Indexes. Помните, что действие опций htaccess распространяет сверху вниз по дереву каталогов до самой глубокой вложенности, пока не будут отменены другим htaccess.&lt;br /&gt;\r\n&lt;br /&gt;\r\nНеобязательно полностью перечислять все опции в дочерних .htaccess если они не изменяются. Достаточно указать (переназначить) только те опции и директивы, которые изменяются. Остальные опции также унаследуются от родителя.&lt;/p&gt;\r\n\r\n&lt;p&gt;Пример&lt;/p&gt;\r\n\r\n&lt;p&gt;Скажем, у вас есть вот такой путь /site/folder_one/subfolder/other/&lt;/p&gt;\r\nВ файле /site/.htaccess вы указываете:\r\n\r\n&lt;pre&gt;\r\nOptions  -Indexes\r\nAllow from all&lt;/pre&gt;\r\nВ файле /site/folder_one/.htaccess указываете:\r\n\r\n&lt;pre&gt;\r\nDeny from all&lt;/pre&gt;\r\nВ файле /site/folder_one/subfolder/.htaccess указываете:\r\n\r\n&lt;pre&gt;\r\nOptions  +Indexes\r\nAllow from all&lt;/pre&gt;\r\n\r\n&lt;p&gt;Получиться вот что:&lt;/p&gt;\r\n\r\n&lt;p&gt;В папке site будут показываться файлы любого содержания, если только к ним напрямую обратиться. Или индексный файл, если не явного обращения к одному из файлов. В случае отсутствия индексного файла получена 403 ошибка.&lt;br /&gt;\r\nК папке folder_one доступ закрыт. Даже если знать имя файла и набрать его в адресной строке в ответ сервер вернет ошибку 403.&lt;br /&gt;\r\nПапка subfolder разрешена для обращений по прямому адресу или же в случае отсутствия индексного файла покажет содержимое каталога. Эти же права распространяться и на папку other.&lt;br /&gt;\r\nЕсли убрать файл ,htaccess из папки folder_one, то она унаследует права от родительской site.&lt;/p&gt;\r\n\r\n&lt;p&gt;2. Немного SEO (куда же без него)&lt;/p&gt;\r\n\r\n&lt;pre&gt;\r\n&amp;lt;IfModule mod_rewrite.c&gt;\r\n	RewriteEngine on\r\n	RewriteBase /\r\n	RewriteCond %&#123;HTTP_HOST&#125; ^roocms\r\n	RewriteRule (.*) http://www.roocms.com/&#36;1 [R=301,L]\r\n	RewriteCond %&#123;THE_REQUEST&#125; ^[A-Z]&#123;3,9&#125;\\ /index\\.php\\ HTTP/\r\n	RewriteRule ^index\\.php&#36; http://www.roocms.com/ [R=301,L]\r\n&amp;lt;/IfModule&gt;&lt;/pre&gt;\r\n\r\n&lt;p&gt;Обязательно не забыть про условие &amp;lt;IfModule mod_rewrite.c&gt;. Не окажись у хостера данного модуля и ваш сайт станет выдавать 500-ую ошибку. Данный конкретный модуль входить в сборку Апача по-умолчанию. Ну а вдруг&amp;hellip; Хостеры и их админы бывают всякие.&lt;/p&gt;\r\n\r\n&lt;p&gt;В данной части пользы больше для SEO. Модуль rewrite как следует из его названия занимается перенаправлениями (привет Кэпу).&lt;/p&gt;\r\n\r\n&lt;p&gt;В этой части файла мы указали две склейки: мы склеили ваш_сайт и www.ваш_сайт Даже если пользователь наберет ваш сайт без WWW его перебросить 301 редериктом на www.ваш_сайт.&lt;br /&gt;\r\nА также мы избавились /index.php в строке запроса. Если пользователь наберет www.ваш_сайт/index.php его перебросит (снова 301 редериктом) на www.ваш_сайт.&lt;br /&gt;\r\nТеперь поисковики не будут путаться между www и не будут дублировать главную страницу в результатах индексирования вашего сайта. Гуглим СЕО склейки домена, если не понимаете зачем это нужно.&lt;/p&gt;\r\n\r\n&lt;p&gt;3. Кто в папке главный?&lt;/p&gt;\r\n\r\n&lt;p&gt;Если у вас папке есть файлы index.html и index.php (не знаю, зачем и кому такое было нужно, но не раз видел такое) то как указать серверу кто их них более индексный?&lt;/p&gt;\r\n\r\n&lt;pre&gt;\r\nDirectoryIndex index.php&lt;/pre&gt;\r\n\r\n&lt;p&gt;А ещё можно там указать скажем roosso.php и тогда набрав в строке запроса адрес сайт.бла/бла/бла/ вы увидете не index, а roosso&lt;/p&gt;\r\n\r\n&lt;p&gt;4. Ещё настройки&amp;hellip;&lt;/p&gt;\r\n\r\n&lt;pre&gt;\r\n&amp;lt;IfModule mod_setenvif.c&gt;\r\n	SetEnv TZ Europe/Moscow\r\n&amp;lt;/IfModule&gt;\r\nServerSignature Off\r\nAddDefaultCharset UTF-8&lt;/pre&gt;\r\n\r\n&lt;p&gt;Первая строчка устанавливает часовой пояс. Например в Apache 2.22.22 был баг связанный с этой опцией. Функции времени в php не работали, пока не установишь часовой пояс.&lt;/p&gt;\r\n\r\n&lt;p&gt;Вторая строка это подпись сервера. Вы их не раз видели на всяких системных страницах типа 500ой ошибки или 403ей. Обычно там какая-нибудь техническая информация и почта вебмастера. Я предпочитаю даже в таких мелочах скрывать данные о софте на сервере. Коллеги параноики меня поддержат.&lt;/p&gt;\r\n\r\n&lt;p&gt;Угадайте, что делает третья строка?&lt;/p&gt;\r\n\r\n&lt;p&gt;5. Когда нет доступа к php.ini&lt;/p&gt;\r\n\r\n&lt;p&gt;С помощью .htaccess мы также можем управлять рядом настроек PHP. На виртуальном хостинге, как правило, нет возможности изменять настройки php.ini. Чаще всего этого и не требуется. Но все же есть ряд опций контроль над которыми может нам быть полезен. Например, увеличить лимит на загрузку файлов, или лимит передачи данным методом POST.&lt;/p&gt;\r\n\r\n&lt;pre&gt;\r\n&amp;lt;ifModule mod_php.c&gt;\r\n  php_value	upload_max_filesize	32M\r\n  php_value	post_max_size		10M\r\n  php_value	default_charset utf-8\r\n  php_value	max_execution_time 200\r\n&amp;lt;/ifModule&gt;&lt;/pre&gt;\r\n\r\n&lt;p&gt;Первая строчка разрешить загружать файлы размером до 32 Мегабайт. По умолчанию в php обычно это значение 8 или 16 мегабайт.&lt;br /&gt;\r\nВторой строкой разрешаем постинг объемом до 10 мегабайт. По умолчанию это значение обычно 2 Мегабайта.&lt;br /&gt;\r\nТретья строка устанавливает кодировку по используемую вашими скриптами. По своей сути она дублирует строку: &amp;laquo;AddDefaultCharset UTF-8&amp;raquo;. Но я чаще прибегаю к установке кодировки именно через php.&lt;br /&gt;\r\nЧетвертой строкой изменяем лимит времени выделенный на выполнение скрипта. По умолчанию он обычно равен 30 секундам. Но иногда для выполнения каких нибудь сложных обработок требуется больше времени.&lt;/p&gt;\r\n\r\n&lt;p&gt;6. Типы файлов. Ловкость рук и ни какого мошенничества.&lt;/p&gt;\r\n\r\n&lt;p&gt;В моей практике случалось пару раз, что после какого либо обновления провайдером софта, слетали типы файлов. Хотя такое редко. За 10 лет, всего два случая. Но иногда мне нужно было заставить html работать как php. А иногда требуется научить апач различать типы файлов, которые ему неизвестно. (Как оказалось Апачу вообще мало что известно из редких типов файлов.) В такой ситуации нас спасет следующий код:&lt;/p&gt;\r\n\r\n&lt;pre&gt;\r\nAddHandler application/x-httpd-php .html\r\nAddHandler cgi-script .pl .py .jsp .asp .htm .shtml .sh .cgi\r\nAddType application/x-javascript .js\r\nAddType text/css .css\r\nAddType text/xml .xml\r\nAddType application/octet-stream .doc .mov .avi .pdf .xls \r\n# ForceType application/x-httpd-php\r\n&lt;/pre&gt;\r\n\r\n&lt;p&gt;Первая строчка позволит нашим php файлам иметь расширение html, но выполняться как php. Полезно бывает во многих случаях. А в старые добрые когда поисковики индексировали ЧПУ лучше, такая строчка всегда приходила на выручку.&lt;/p&gt;\r\n\r\n&lt;p&gt;Мы можем переназначить, добавить или подменить любые типы файлов под удобные нам разрешения. Кстати, вы можете легко написать к примеру вот такую строку:&lt;/p&gt;\r\n\r\n&lt;pre&gt;\r\nAddHandler application/x-httpd-php .i&lt;/pre&gt;\r\n\r\n&lt;p&gt;Потом переименовать все ваши файлы, изменив расширение на .i (не забыв конечно про ссылки) и адреса файлов у вас на сайте будут не сайт.мой/index.php?uri а сайт.мой/index.i?uri&lt;/p&gt;\r\n\r\n&lt;p&gt;Например я пишу&lt;/p&gt;\r\n\r\n&lt;pre&gt;\r\nAddHandler application/x-httpd-php .roosso&lt;/pre&gt;\r\n\r\n&lt;p&gt;и создаю в корне своего сайта файл alex.roosso внутри обычный php код. Это вроде как страница обо мне любимом. И в адресной строке она будет выглядеть как &lt;a href=&quot;http://www.black-web.ru/alex.roosso&quot;&gt;www.black-web.ru/alex.roosso&lt;/a&gt; (ссылка рабочая, можете посмотреть что это так).&lt;br /&gt;\r\nВторой строкой указано, какие расширения файлов должны выполняться как cgi скрипты.&lt;br /&gt;\r\nТретья, четвертая и пятая строки, на всякий случай уточняют мим-тип файлов с разрешением css, js, xml. Не путайте с присвоением заголовка в ответе сервера на запрос, как это сделано в первых двух строках.&lt;/p&gt;\r\n\r\n&lt;p&gt;Шестая строчка это участка, нужна если на вашем сайте есть скачиваемый для пользователей контент. Если добавить эту строку, то при обращении к данным файлам им будет предлагаться скачать их на компьютер, а не как это сейчас в современным браузерах куча плагинов, которые даже word открывают в браузере.&lt;/p&gt;\r\n\r\n&lt;p&gt;Седьмую строку я закомментировал. Это строчка в принудительно-добровольном порядке, будет все файлы с вашего сервера запустить как php. Её лучше использовать лишь в отдельных папках, при необходимости.&lt;/p&gt;\r\n\r\n&lt;p&gt;7. Знают взрослые и дети, что архивы меньше весят&amp;hellip;&lt;/p&gt;\r\n\r\n&lt;p&gt;Полезно, когда ваши страницы загружаются быстрее. Поэтому люди и придумали архивировать файлы. А потом они ещё подумали и решили, что архивировать можно и страницы на сайтах и картинки. Причем делать это незаметно для пользователя, но существенно снижать трафик и ускорять загрузку страниц. Волшебные слова прозвучали, теперь обсудим, как это можно сделать.&lt;/p&gt;\r\n\r\n&lt;p&gt;У Апача есть два модуля сжатия. Оба не являются модулями по умолчанию, поэтому необязательно могут присутствовать у вашего провайдера. Но как показала практика у 99% провайдеров один из них стоит. Наиболее распространен mod_deflate. Чтобы его с помощью сжимать весь контент на вашем сайте добавьте в .htaccess следующие строки:&lt;/p&gt;\r\n\r\n&lt;pre&gt;\r\n&amp;lt;ifModule mod_deflate.c&gt;\r\n	AddOutputFilterByType DEFLATE text/html text/plain text/xml application/xml application/xhtml+xml text/css text/javascript application/javascript application/x-javascript\r\n&amp;lt;/ifModule&gt;&lt;/pre&gt;\r\n\r\n&lt;p&gt;Как видите мы должны перечислить mime type файлов, которые следует подвергать сжатию. Сюда можно добавить и видео и картинки, но толку это даст мало. Потому что jpeg или gif уже сами по себе являются сжатыми форматами. Также как avi или flv. Вы фактически нечего не выиграете указав их.&lt;/p&gt;\r\n\r\n&lt;p&gt;Второй менее популярный модуль это mod_gzip, Чтобы включить сжатие с его помощью добавьте вот такие строчки:&lt;/p&gt;\r\n\r\n&lt;pre&gt;\r\n&amp;lt;IfModule mod_gzip.c&gt;\r\n	mod_gzip_on         Yes\r\n	mod_gzip_dechunk    Yes\r\n	mod_gzip_item_include file		\\.(html?|txt|css|js|php|pl)&#36;\r\n	mod_gzip_item_include mime		^text\\.*\r\n	mod_gzip_item_include mime		^application/x-javascript.*\r\n	mod_gzip_item_exclude mime		^image\\.*\r\n	mod_gzip_item_exclude rspheader	^Content-Encoding:.*gzip.*\r\n&amp;lt;/IfModule&gt;&lt;/pre&gt;\r\n\r\n&lt;p&gt;Данный модуль умеет работать с масками, что несомненно большой плюс. Да и синтаксис у него куда более гибкий чем у предыдущего. Но используют его реже. А по сжатию я даже не берусь судить, который из модулей лучше. Я сильной разницы не заметил при тестах.&lt;/p&gt;\r\n\r\n&lt;p&gt;8. А ещё быстрее можно?&lt;/p&gt;\r\n\r\n&lt;p&gt;Можно. Если применить кеширование страниц. У кеширования есть и плюсы и минусы, поэтому подходить к этому вопросу надо подготовившись. Для динамически обновляющегося сайт каждый 2-3 минуты, например популярного форума, нужно учесть, что пользователь должен видеть актуальную информацию. Но у любого сайт есть контент, который более или менее статичен. Например те же картинки, или файлы стилей. Поэтому нам потребуется по разному использовать кеширование различного содержимого на сайте. В html разметки мы всегда можем использовать meta теги. И через php мы может устанавливать заголовки ответа сервера. Остается вопрос, как быть с css, js, image и т.д. и т.п.&lt;/p&gt;\r\n\r\n&lt;p&gt;Помочь нам в этом могут два модуля: mod_headers и mod_expires которые могут установить заголовки в ответ сервера и подсказать вашему браузеру, что и как нужно кешировать. Один из модулей обычно стоит у провайдера, но как и в случае с любым модулем, который не входит в стандартную сборку Апача, 100% гарантии никто вам не даст. Поэтому снова во избежание 500й ошибки указывает условия для каждого из модулей.&lt;/p&gt;\r\n\r\n&lt;pre&gt;\r\n&amp;lt;ifModule mod_headers.c&gt;\r\n	#кэшировать html и htm файлы на один день\r\n	&amp;lt;FilesMatch &amp;quot;\\.(html|htm)&#36;&amp;quot;&gt;\r\n		Header set Cache-Control &amp;quot;max-age=43200&amp;quot;\r\n	&amp;lt;/FilesMatch&gt;\r\n	#кэшировать css, javascript и текстовые файлы на одну неделю\r\n	&amp;lt;FilesMatch &amp;quot;\\.(js|css|txt)&#36;&amp;quot;&gt;\r\n		Header set Cache-Control &amp;quot;max-age=604800&amp;quot;\r\n	&amp;lt;/FilesMatch&gt;\r\n	#кэшировать флэш и изображения на месяц\r\n	&amp;lt;FilesMatch &amp;quot;\\.(flv|swf|ico|gif|jpg|jpeg|png)&#36;&amp;quot;&gt;\r\n		Header set Cache-Control &amp;quot;max-age=2592000&amp;quot;\r\n	&amp;lt;/FilesMatch&gt;\r\n	#отключить кэширование\r\n	&amp;lt;FilesMatch &amp;quot;\\.(pl|php|cgi|spl|scgi|fcgi)&#36;&amp;quot;&gt;\r\n		Header unset Cache-Control\r\n	&amp;lt;/FilesMatch&gt;\r\n&amp;lt;/IfModule&gt;&lt;/pre&gt;\r\n\r\n&lt;p&gt;Вот такой синтаксис у mod_headers. Думаю по комментариям ясно что к чему.&lt;br /&gt;\r\nВ данной секции я отключил кеширование php файлов. Хотя по моему мнению небольшой временной интервал кеширования им не повредит. 5-30 секунд, это интервал времени, за который мало что меняется. А многие пользователи любят пользоваться клавишей back (вернуться назад). Чтобы не загружать им страницу второй раз, а подхватить её из кеша, разумный интервал кеширования все же уместен.&lt;/p&gt;\r\n\r\n&lt;p&gt;Во второй секции где идут условия для mod_expires я именно так и делаю &amp;mdash; для php ставлю небольшой интервал кеширования.&lt;/p&gt;\r\n\r\n&lt;pre&gt;\r\n&amp;lt;ifModule mod_expires.c&gt;\r\n	ExpiresActive On\r\n	#по умолчанию кеш в 5 секунд\r\n	ExpiresDefault &amp;quot;access plus 5 seconds&amp;quot;\r\n	#кэшировать флэш и изображения на месяц\r\n	ExpiresByType image/x-icon &amp;quot;access plus 2592000 seconds&amp;quot;\r\n	ExpiresByType image/jpeg &amp;quot;access plus 2592000 seconds&amp;quot;\r\n	ExpiresByType image/png &amp;quot;access plus 2592000 seconds&amp;quot;\r\n	ExpiresByType image/gif &amp;quot;access plus 2592000 seconds&amp;quot;\r\n	ExpiresByType application/x-shockwave-flash &amp;quot;access plus 2592000 seconds&amp;quot;\r\n	#кэшировать css, javascript и текстовые файлы на одну неделю\r\n	ExpiresByType text/css &amp;quot;access plus 604800 seconds&amp;quot;\r\n	ExpiresByType text/javascript &amp;quot;access plus 604800 seconds&amp;quot;\r\n	ExpiresByType application/javascript &amp;quot;access plus 604800 seconds&amp;quot;\r\n	ExpiresByType application/x-javascript &amp;quot;access plus 604800 seconds&amp;quot;\r\n	#кэшировать html и htm файлы на один день\r\n	ExpiresByType text/html &amp;quot;access plus 43200 seconds&amp;quot;\r\n	#кэшировать xml файлы на десять минут\r\n	ExpiresByType application/xhtml+xml &amp;quot;access plus 600 seconds&amp;quot;\r\n&amp;lt;/ifModule&gt;&lt;/pre&gt;\r\n\r\n&lt;p&gt;9. Правила вежливого тона&amp;hellip;&lt;/p&gt;\r\n\r\n&lt;p&gt;В процессе модернизации своего сайта, мы часто оставляем хвосты ввиде ссылок, которые ведут на страницы, которые мы удалили. Иногда такие ссылки идут с других сайтов или из поисковых систем. Чтобы не терять пользователей вежливым тоном считается иметь собственные страницы для различного типа ошибок. Включая даже ошибки сервера. Например стандартное сообщение о 500й ошибки очень скучное и мрачное, и вряд ли вызовет у пользователя желание посетить вашу страницу ещё раз. Но в htaccess есть приемы, которые могут сделать даже эту страницу приветливей.&lt;/p&gt;\r\n\r\n&lt;pre&gt;\r\n# Bad Rquest\r\nErrorDocument 400 /400.html\r\n# Authorization Required\r\nErrorDocument 401 /401.html\r\n# Forbidden\r\nErrorDocument 403 /403.html\r\n# Not found\r\nErrorDocument 404 /404.html\r\n# Method Not Allowed\r\nErrorDocument 405 /405.html\r\n# Request Timed Out\r\nErrorDocument 408 /408.html\r\n# Request URI Too Long\r\nErrorDocument 414 /414.html\r\n# Internal Server Error\r\nErrorDocument 500 /500.html\r\n# Not Implemented\r\nErrorDocument 501 /501.html\r\n# Bad Gateway \r\nErrorDocument 502 /502.html\r\n# Service Unavailable \r\nErrorDocument 503 /503.html\r\n# Gateway Timeout\r\nErrorDocument 504 /504.html&lt;/pre&gt;\r\n\r\n&lt;p&gt;Для 400-х ошибок можно использовать и динамические страницы на php. А вот для 500 лучше сделать на html и js. Это часть ошибок обычно связана с ошибками сервера (в большинстве случаев) и php или cgi как правило в такой ситуации не работают.&lt;/p&gt;\r\n\r\n&lt;p&gt;Если вам лень делать столько страниц устанавливайте страницей ошибок главную страницу своего сайта или карту сайта.&lt;/p&gt;\r\n\r\n&lt;p&gt;Все это вы делаете исключительно для людей. Поисковым роботам плевать на то есть у вас страницы ошибок или нет. Они видят ответ сервера с кодом ошибки и блокируют вашу страницу в поиск. Так что имейте ввиду, это не панацея. Это лишь вежливость к вашей аудитории и имидж вашего сайта.&lt;/p&gt;\r\n\r\n&lt;p&gt;10. Подведем итог&lt;/p&gt;\r\n\r\n&lt;p&gt;Знатоки понимают, что в этой статье описано далеко не все. Я коснулся здесь лишь поверхности &amp;laquo;айсберга&amp;raquo;. На самом деле возможности .htaccess куда много обширней, чем описано в статье. Но я и не преследовал целью перевести манаул по htaccess на русский язык. Всего чего я хотел это создать небольшой костяк файла .htaccess для тех, кто только приступил к изучению данного вопроса, чтобы сэкономить их время на поисках информации по сети.&lt;/p&gt;\r\n\r\n&lt;p&gt;В результате всех манипуляций у нас должен был получить файл следующего содержания:&lt;/p&gt;\r\n\r\n&lt;pre&gt;\r\nOptions All -ExecCGI -Indexes -Includes +FollowSymLinks\r\n\r\n&amp;lt;IfModule mod_rewrite.c&gt;\r\n    RewriteEngine on\r\n    RewriteBase /\r\n    RewriteCond %&#123;HTTP_HOST&#125; ^roocms.com\r\n    RewriteRule (.*) http://www.roocms.com/&#36;1 [R=301,L]\r\n    RewriteCond %&#123;THE_REQUEST&#125; ^[A-Z]&#123;3,9&#125;\\ /index\\.php\\ HTTP/\r\n    RewriteRule ^index\\.php&#36; http://www.roocms.com/ [R=301,L]\r\n&amp;lt;/IfModule&gt;\r\n\r\nDirectoryIndex index.php\r\n\r\n&amp;lt;IfModule mod_setenvif.c&gt;\r\n	SetEnv TZ Europe/Moscow\r\n&amp;lt;/IfModule&gt;\r\nServerSignature Off\r\n#AddDefaultCharset UTF-8\r\n&amp;lt;ifModule mod_php.c&gt;\r\n	php_value	upload_max_filesize	32M\r\n	php_value	post_max_size		10M\r\n	php_value	default_charset utf-8\r\n	php_value	max_execution_time 200\r\n&amp;lt;/ifModule&gt;\r\nAddHandler application/x-httpd-php .html\r\nAddHandler cgi-script .pl .py .jsp .asp .htm .shtml .sh .cgi\r\nAddType application/x-javascript .js\r\nAddType text/css .css\r\nAddType text/xml .xml\r\nAddType application/octet-stream .doc .mov .avi .pdf .xls \r\n# ForceType application/x-httpd-php\r\n\r\n&amp;lt;ifModule mod_deflate.c&gt;\r\n    AddOutputFilterByType DEFLATE text/html text/plain text/xml application/xml application/xhtml+xml text/css text/javascript application/javascript application/x-javascript\r\n&amp;lt;/ifModule&gt;\r\n\r\n&amp;lt;IfModule mod_gzip.c&gt;\r\n    mod_gzip_on         Yes\r\n    mod_gzip_dechunk    Yes\r\n    mod_gzip_item_include file		\\.(html?|txt|css|js|php|pl)&#36;\r\n    mod_gzip_item_include mime		^text\\.*\r\n    mod_gzip_item_include mime		^application/x-javascript.*\r\n    mod_gzip_item_exclude mime		^image\\.*\r\n    mod_gzip_item_exclude rspheader	^Content-Encoding:.*gzip.*\r\n&amp;lt;/IfModule&gt;\r\n\r\n&amp;lt;ifModule mod_headers.c&gt;\r\n    #кэшировать html и htm файлы на один день\r\n    &amp;lt;FilesMatch &amp;quot;\\.(html|htm)&#36;&amp;quot;&gt;\r\n        Header set Cache-Control &amp;quot;max-age=43200&amp;quot;\r\n    &amp;lt;/FilesMatch&gt;\r\n    #кэшировать css, javascript и текстовые файлы на одну неделю\r\n    &amp;lt;FilesMatch &amp;quot;\\.(js|css|txt)&#36;&amp;quot;&gt;\r\n        Header set Cache-Control &amp;quot;max-age=604800&amp;quot;\r\n    &amp;lt;/FilesMatch&gt;\r\n    #кэшировать флэш и изображения на месяц\r\n    &amp;lt;FilesMatch &amp;quot;\\.(flv|swf|ico|gif|jpg|jpeg|png)&#36;&amp;quot;&gt;\r\n        Header set Cache-Control &amp;quot;max-age=2592000&amp;quot;\r\n    &amp;lt;/FilesMatch&gt;\r\n    #отключить кэширование\r\n    &amp;lt;FilesMatch &amp;quot;\\.(pl|php|cgi|spl|scgi|fcgi)&#36;&amp;quot;&gt;\r\n        Header unset Cache-Control\r\n    &amp;lt;/FilesMatch&gt;\r\n&amp;lt;/IfModule&gt;\r\n\r\n&amp;lt;ifModule mod_expires.c&gt;\r\n    ExpiresActive On\r\n    #по умолчанию кеш в 5 секунд\r\n    ExpiresDefault &amp;quot;access plus 5 seconds&amp;quot;\r\n    #кэшировать флэш и изображения на месяц\r\n    ExpiresByType image/x-icon &amp;quot;access plus 2592000 seconds&amp;quot;\r\n    ExpiresByType image/jpeg &amp;quot;access plus 2592000 seconds&amp;quot;\r\n    ExpiresByType image/png &amp;quot;access plus 2592000 seconds&amp;quot;\r\n    ExpiresByType image/gif &amp;quot;access plus 2592000 seconds&amp;quot;\r\n    ExpiresByType application/x-shockwave-flash &amp;quot;access plus 2592000 seconds&amp;quot;\r\n    #кэшировать css, javascript и текстовые файлы на одну неделю\r\n    ExpiresByType text/css &amp;quot;access plus 604800 seconds&amp;quot;\r\n    ExpiresByType text/javascript &amp;quot;access plus 604800 seconds&amp;quot;\r\n    ExpiresByType application/javascript &amp;quot;access plus 604800 seconds&amp;quot;\r\n    ExpiresByType application/x-javascript &amp;quot;access plus 604800 seconds&amp;quot;\r\n    #кэшировать html и htm файлы на один день\r\n    ExpiresByType text/html &amp;quot;access plus 43200 seconds&amp;quot;\r\n    #кэшировать xml файлы на десять минут\r\n    ExpiresByType application/xhtml+xml &amp;quot;access plus 600 seconds&amp;quot;\r\n&amp;lt;/ifModule&gt;\r\n\r\n# Bad Rquest\r\nErrorDocument 400 /400.html\r\n# Authorization Required\r\nErrorDocument 401 /401.html\r\n# Forbidden\r\nErrorDocument 403 /403.html\r\n# Not found\r\nErrorDocument 404 /404.html\r\n# Method Not Allowed\r\nErrorDocument 405 /405.html\r\n# Request Timed Out\r\nErrorDocument 408 /408.html\r\n# Request URI Too Long\r\nErrorDocument 414 /414.html\r\n# Internal Server Error\r\nErrorDocument 500 /500.html\r\n# Not Implemented\r\nErrorDocument 501 /501.html\r\n# Bad Gateway \r\nErrorDocument 502 /502.html\r\n# Service Unavailable \r\nErrorDocument 503 /503.html\r\n# Gateway Timeout\r\nErrorDocument 504 /504.html&lt;/pre&gt;\r\n\r\n&lt;p&gt;11. Послесловие.&lt;/p&gt;\r\n\r\n&lt;p&gt;Я старался не спешить в написании статьи и на это ушли почти сутки. Но все же где то я мог допустить ошибки в орфографии или пунктуации. Прошу не казнить, а миловать. А лучше писать в личку, чтобы я поправил ошибки.&lt;/p&gt;\r\n\r\n&lt;p&gt;И напоследок для любителей экспериментов несколько строк .htaccess. Сужу по своему опыту &amp;mdash; на практике знания усваиваются лучше чем в теории.&lt;/p&gt;\r\n\r\n&lt;pre&gt;\r\n# SECURE ____________________\r\n&amp;lt;IfModule mod_ssl.c&gt;\r\n	SSLOptions +StrictRequire\r\n	SSLRequireSSL\r\n	SSLRequire %&#123;HTTP_HOST&#125; eq &amp;quot;roocms.com&amp;quot;\r\n&amp;lt;/IfModule&gt;\r\n&amp;lt;IfModule mod_rewrite.c&gt;\r\n	RewriteCond %&#123;HTTPS&#125; !on\r\n	RewriteRule (.*) https://%&#123;HTTP_HOST&#125;%&#123;REQUEST_URI&#125;\r\n&amp;lt;/IfModule&gt;\r\n\r\n# HOTLINKING ________________\r\n&amp;lt;IfModule mod_rewrite.c&gt;\r\n	RewriteCond %&#123;HTTP_REFERER&#125; !^&#36;\r\n	RewriteCond %&#123;HTTP_REFERER&#125; !^http://([ -a-z0-9]  \\.)?roocms\\.com [NC]\r\n	RewriteRule \\.(gif|jpe?g|png)&#36; - [F,NC,L]\r\n&amp;lt;/IfModule&gt;\r\n\r\n# REDIRICT __________________\r\nRedirect 301 /index.html /index.php\r\n&amp;lt;IfModule mod_rewrite.c&gt;\r\n	RewriteRule ^news/([^/\\.]+)/?&#36; news.php?news=&#36;1 [L]\r\n	RewriteRule ^(.*\\.((js)|(css)))&#36; plugin/GzipFile.php?file=&#36;1\r\n	RewriteRule \\.css&#36; plugin/GzipFile.php?file=&#36;1\r\n	RewriteRule \\.js&#36; plugin/GzipFile.php?file=&#36;1\r\n&amp;lt;/IfModule&gt;\r\nRedirectMatch 301 /blog(.*) http://www.roocms.com/&#36;1&lt;/pre&gt;\r\n&lt;br /&gt;\r\n&lt;b&gt;P.S.&lt;/b&gt;\r\n\r\n&lt;blockquote class=&quot;quote-info&quot;&gt;Для тех у кого всё получилось, идём на &lt;a href=&quot;http://www.webpagetest.org/&quot; target=&quot;_blank&quot;&gt;www.webpagetest.org&lt;/a&gt; мерять красоту до и после.&lt;/blockquote&gt;\r\n\r\n&lt;blockquote class=&quot;quote-info&quot;&gt;Кому надо берите полностью готовый .htaccess &lt;a href=&quot;https://github.com/Roosso/other/blob/master/.htaccess&quot; target=&quot;_blank&quot;&gt;здесь&lt;/a&gt;&lt;br /&gt;\r\nДанный файл показал самую высокую производительность на тестах.&lt;br /&gt;\r\nТакже там куча всего закомментировано о чем я не упомянул в статье и что может пригодиться в тех или иных случаях.&lt;/blockquote&gt;\r\n\r\n&lt;p&gt;&lt;span style=&quot;text-align: justify;&quot;&gt;Список всех доступных директив можно посмотреть &lt;a href=&quot;http://httpd.apache.org/docs/mod/directives.html&quot; target=&quot;_blank&quot;&gt;http://httpd.apache.org/docs/mod/directives.html&lt;/a&gt;&lt;/span&gt;&amp;nbsp;&lt;/p&gt;\r\n', 1453587306)";
$sql['INSERT '.HELP_TABLE." ID #28"] = "INSERT INTO `".HELP_TABLE."` VALUES(28, 'faq_htaccess_php', 30, 0, 0, 'Указание опций PHP', '&lt;h3&gt;Указание опций PHP&lt;/h3&gt;\r\n\r\n&lt;p&gt;Директивы для конфигурирования&amp;nbsp;PHP&amp;nbsp;можно размещать не только в файле&amp;nbsp;php.ini, но также и в конфигурационных файлах&amp;nbsp;Apache&amp;nbsp;для вашего сайта &amp;ndash;&amp;nbsp;.htaccess. Это позволяет проводить тонкую настройку&amp;nbsp;php&amp;nbsp;для разных директорий.&lt;/p&gt;\r\n\r\n&lt;p&gt;Для работы с&amp;nbsp;PHP&amp;nbsp;в конфигурационных файлах&amp;nbsp;Apache&amp;nbsp;доступны 4 директивы:&amp;nbsp;php_value,&amp;nbsp;php_flag,&amp;nbsp;php_admin_value,&amp;nbsp;php_admin_flag, которые отличаются значимостью, типом устанавливаемых значений и местом применения.&lt;/p&gt;\r\n\r\n&lt;p&gt;Директивы&amp;nbsp;php_admin_value,&amp;nbsp;php_admin_flag&amp;nbsp;выставляются только в файле httpd.conf, так что нам они не интересны. По сути, данные директивы переопределяют значение остальных директив.&lt;/p&gt;\r\n\r\n&lt;p&gt;Директива&amp;nbsp;php_flag&amp;nbsp;служит для установки логических значений директив в&amp;nbsp;php.ini. В то время как директива&amp;nbsp;php_value&amp;nbsp;служит для установки строковых и числовых значений директив&amp;nbsp;php.ini, т.е. любых типов значений, за исключением логических.&lt;/p&gt;\r\n\r\n&lt;p&gt;Синтаксис директив очень прост:&lt;/p&gt;\r\n\r\n&lt;pre&gt;\r\nphp_flag  имя директивы on | off\r\nphp_value  имя директивы VALUE&lt;/pre&gt;\r\n\r\n&lt;p&gt;Приведем перечень наиболее часто используемых директив&lt;/p&gt;\r\n\r\n&lt;table class=&quot;table&quot;&gt;\r\n	&lt;tbody&gt;\r\n		&lt;tr&gt;\r\n			&lt;td&gt;\r\n			&lt;p&gt;mysql.default_host&lt;/p&gt;\r\n			&lt;/td&gt;\r\n			&lt;td&gt;\r\n			&lt;p&gt;Устанавливает имя хоста базы данных.&lt;br /&gt;\r\n			Пример:&amp;nbsp;php_value mysql.default_host localhost&lt;/p&gt;\r\n			&lt;/td&gt;\r\n		&lt;/tr&gt;\r\n		&lt;tr&gt;\r\n			&lt;td&gt;\r\n			&lt;p&gt;mysql.default_user&lt;/p&gt;\r\n			&lt;/td&gt;\r\n			&lt;td&gt;\r\n			&lt;p&gt;Устанавливает имя пользователя базы данных&lt;br /&gt;\r\n			Пример:&amp;nbsp;php_value mysql.default_user alexey&lt;/p&gt;\r\n			&lt;/td&gt;\r\n		&lt;/tr&gt;\r\n		&lt;tr&gt;\r\n			&lt;td&gt;\r\n			&lt;p&gt;mysql.default_password&lt;/p&gt;\r\n			&lt;/td&gt;\r\n			&lt;td&gt;\r\n			&lt;p&gt;Устанавливает пароль пользователя базы данных&lt;br /&gt;\r\n			Пример:&amp;nbsp;php_value mysql.default_password Hry5Gw2&lt;/p&gt;\r\n			&lt;/td&gt;\r\n		&lt;/tr&gt;\r\n		&lt;tr&gt;\r\n			&lt;td&gt;\r\n			&lt;p&gt;display_errors&lt;/p&gt;\r\n			&lt;/td&gt;\r\n			&lt;td&gt;\r\n			&lt;p&gt;Разрешает вывод ошибок и предупреждений в браузер.&lt;br /&gt;\r\n			Пример:&amp;nbsp;php_flag display_errors 0&lt;/p&gt;\r\n			&lt;/td&gt;\r\n		&lt;/tr&gt;\r\n		&lt;tr&gt;\r\n			&lt;td&gt;\r\n			&lt;p&gt;display_startup_errors&lt;/p&gt;\r\n			&lt;/td&gt;\r\n			&lt;td&gt;\r\n			&lt;p&gt;Включает отображение ошибок, возникающих при запуске PHP.&lt;br /&gt;\r\n			Пример:&amp;nbsp;php_flag display_startup_errors 0&lt;/p&gt;\r\n			&lt;/td&gt;\r\n		&lt;/tr&gt;\r\n		&lt;tr&gt;\r\n			&lt;td&gt;\r\n			&lt;p&gt;error_reporting&lt;/p&gt;\r\n			&lt;/td&gt;\r\n			&lt;td&gt;\r\n			&lt;p&gt;Определяет типы (уровни важности) фиксируемых ошибок.&lt;br /&gt;\r\n			Пример:&amp;nbsp;php_value error_reporting &amp;ldquo;E_ALL &amp;amp; ~E_NOTICE&amp;rdquo;&lt;/p&gt;\r\n			&lt;/td&gt;\r\n		&lt;/tr&gt;\r\n		&lt;tr&gt;\r\n			&lt;td&gt;\r\n			&lt;p&gt;auto_prepend_file&lt;/p&gt;\r\n			&lt;/td&gt;\r\n			&lt;td&gt;\r\n			&lt;p&gt;Определение файла, который будет выводится в начале каждого php-скрипта. Путь указывается от корня файловой системы сервера.&lt;br /&gt;\r\n			Пример:&amp;nbsp;php_value auto_prepend_file /www/server/prepend.php&lt;/p&gt;\r\n			&lt;/td&gt;\r\n		&lt;/tr&gt;\r\n		&lt;tr&gt;\r\n			&lt;td&gt;\r\n			&lt;p&gt;auto_append_file&lt;/p&gt;\r\n			&lt;/td&gt;\r\n			&lt;td&gt;\r\n			&lt;p&gt;Определение файла, который будет выводится в конце каждого php-скрипта.&lt;br /&gt;\r\n			Пример:&amp;nbsp;php_value auto_append_file /www/server/append.php&lt;/p&gt;\r\n			&lt;/td&gt;\r\n		&lt;/tr&gt;\r\n		&lt;tr&gt;\r\n			&lt;td&gt;\r\n			&lt;p&gt;sendmail_from&lt;/p&gt;\r\n			&lt;/td&gt;\r\n			&lt;td&gt;\r\n			&lt;p&gt;Устанавливает e-mail отправителя, который применяется при отправке почтовых сообщений с помощью PHP.&lt;br /&gt;\r\n			Пример:&amp;nbsp;php_value sendmail_from root@roocms.ru&lt;/p&gt;\r\n			&lt;/td&gt;\r\n		&lt;/tr&gt;\r\n		&lt;tr&gt;\r\n			&lt;td&gt;\r\n			&lt;p&gt;user_agent&lt;/p&gt;\r\n			&lt;/td&gt;\r\n			&lt;td&gt;\r\n			&lt;p&gt;Устанавливает строку User-agent, которая используется PHP при обращении к удаленным серверам.&lt;br /&gt;\r\n			Пример:&amp;nbsp;php_value user_agent &amp;ldquo;Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1)&amp;rdquo;&lt;/p&gt;\r\n			&lt;/td&gt;\r\n		&lt;/tr&gt;\r\n	&lt;/tbody&gt;\r\n&lt;/table&gt;\r\n\r\n&lt;p&gt;Например, для вывода всех сообщений об ошибках генерируемых&amp;nbsp;php&amp;nbsp;в&amp;nbsp;.htaccess&amp;nbsp;нужно прописать следующие строки:&lt;/p&gt;\r\n\r\n&lt;pre&gt;\r\nphp_flag  display_errors 1\r\nphp_flag  display_startup_errors 1\r\nphp_value  error_reporting &amp;ldquo;E_ALL &amp;amp; ~E_NOTICE&amp;rdquo; \r\n&lt;/pre&gt;\r\n\r\n&lt;p&gt;Для запрещения выполнения php в текущей директории и во всех вложенных необходимо в&amp;nbsp;.htaccess&amp;nbsp;прописать следующие строки:&lt;/p&gt;\r\n\r\n&lt;pre&gt;\r\nphp_flag engine  off&lt;/pre&gt;\r\n', 1453588824)";
$sql['INSERT '.HELP_TABLE." ID #29"] = "INSERT INTO `".HELP_TABLE."` VALUES(29, 'faq_seo', 14, 0, 0, 'Search Engine Optimisation (SEO)', '&lt;p&gt;В данном разделе собрано немного полезной информации о поисковом продвижении.&lt;/p&gt;\r\n\r\n&lt;p&gt;Вся информация предоставленая здесь касается тех или иных опций системы управления контентом, среди которых управления мета тегами и заголовками страниц. Для чего нужны перенаправления, ЧПУ и прочие примудрости поискового продвижения.&lt;/p&gt;\r\n\r\n&lt;p&gt;&lt;small&gt;Вся информация собрана из открытых источников&lt;/small&gt;&lt;/p&gt;\r\n', 1453589318)";


/**
 * Логи
 */
$sql['DROP '.LOG_TABLE] = "DROP TABLE IF EXISTS `".LOG_TABLE."`";
$sql['CREATE '.LOG_TABLE] = "CREATE TABLE IF NOT EXISTS `".LOG_TABLE."` (
				  `id` bigint(30) unsigned NOT NULL AUTO_INCREMENT, 
				  `uid` int(10) unsigned NOT NULL,
				  `message` text NOT NULL,
				  `type_log` enum('info','error','log') NOT NULL DEFAULT 'log',
				  `date_log` int(20) unsigned NOT NULL DEFAULT '0',
				  PRIMARY KEY (`id`),
				  KEY `uid` (`uid`)
				) ENGINE=MyISAM DEFAULT CHARSET=utf8 PACK_KEYS=1 AUTO_INCREMENT=26";