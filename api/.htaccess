RewriteEngine On
RewriteBase /api/

# Ensure directory access and directory index resolve correctly
Require all granted
DirectoryIndex index.php

# Block access to all files except index.php
<FilesMatch "^(?!index\.php$).+">
    Require all denied
</FilesMatch>

# Allow access only to index.php
<Files "index.php">
    Require all granted
</Files>

# All requests are redirected to index.php
RewriteRule ^ index.php [QSA,L]